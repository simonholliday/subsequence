window.pdocSearch = (function(){
/** elasticlunr - http://weixsong.github.io * Copyright (C) 2017 Oliver Nightingale * Copyright (C) 2017 Wei Song * MIT Licensed */!function(){function e(e){if(null===e||"object"!=typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var t=function(e){var n=new t.Index;return n.pipeline.add(t.trimmer,t.stopWordFilter,t.stemmer),e&&e.call(n,n),n};t.version="0.9.5",lunr=t,t.utils={},t.utils.warn=function(e){return function(t){e.console&&console.warn&&console.warn(t)}}(this),t.utils.toString=function(e){return void 0===e||null===e?"":e.toString()},t.EventEmitter=function(){this.events={}},t.EventEmitter.prototype.addListener=function(){var e=Array.prototype.slice.call(arguments),t=e.pop(),n=e;if("function"!=typeof t)throw new TypeError("last argument must be a function");n.forEach(function(e){this.hasHandler(e)||(this.events[e]=[]),this.events[e].push(t)},this)},t.EventEmitter.prototype.removeListener=function(e,t){if(this.hasHandler(e)){var n=this.events[e].indexOf(t);-1!==n&&(this.events[e].splice(n,1),0==this.events[e].length&&delete this.events[e])}},t.EventEmitter.prototype.emit=function(e){if(this.hasHandler(e)){var t=Array.prototype.slice.call(arguments,1);this.events[e].forEach(function(e){e.apply(void 0,t)},this)}},t.EventEmitter.prototype.hasHandler=function(e){return e in this.events},t.tokenizer=function(e){if(!arguments.length||null===e||void 0===e)return[];if(Array.isArray(e)){var n=e.filter(function(e){return null===e||void 0===e?!1:!0});n=n.map(function(e){return t.utils.toString(e).toLowerCase()});var i=[];return n.forEach(function(e){var n=e.split(t.tokenizer.seperator);i=i.concat(n)},this),i}return e.toString().trim().toLowerCase().split(t.tokenizer.seperator)},t.tokenizer.defaultSeperator=/[\s\-]+/,t.tokenizer.seperator=t.tokenizer.defaultSeperator,t.tokenizer.setSeperator=function(e){null!==e&&void 0!==e&&"object"==typeof e&&(t.tokenizer.seperator=e)},t.tokenizer.resetSeperator=function(){t.tokenizer.seperator=t.tokenizer.defaultSeperator},t.tokenizer.getSeperator=function(){return t.tokenizer.seperator},t.Pipeline=function(){this._queue=[]},t.Pipeline.registeredFunctions={},t.Pipeline.registerFunction=function(e,n){n in t.Pipeline.registeredFunctions&&t.utils.warn("Overwriting existing registered function: "+n),e.label=n,t.Pipeline.registeredFunctions[n]=e},t.Pipeline.getRegisteredFunction=function(e){return e in t.Pipeline.registeredFunctions!=!0?null:t.Pipeline.registeredFunctions[e]},t.Pipeline.warnIfFunctionNotRegistered=function(e){var n=e.label&&e.label in this.registeredFunctions;n||t.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",e)},t.Pipeline.load=function(e){var n=new t.Pipeline;return e.forEach(function(e){var i=t.Pipeline.getRegisteredFunction(e);if(!i)throw new Error("Cannot load un-registered function: "+e);n.add(i)}),n},t.Pipeline.prototype.add=function(){var e=Array.prototype.slice.call(arguments);e.forEach(function(e){t.Pipeline.warnIfFunctionNotRegistered(e),this._queue.push(e)},this)},t.Pipeline.prototype.after=function(e,n){t.Pipeline.warnIfFunctionNotRegistered(n);var i=this._queue.indexOf(e);if(-1===i)throw new Error("Cannot find existingFn");this._queue.splice(i+1,0,n)},t.Pipeline.prototype.before=function(e,n){t.Pipeline.warnIfFunctionNotRegistered(n);var i=this._queue.indexOf(e);if(-1===i)throw new Error("Cannot find existingFn");this._queue.splice(i,0,n)},t.Pipeline.prototype.remove=function(e){var t=this._queue.indexOf(e);-1!==t&&this._queue.splice(t,1)},t.Pipeline.prototype.run=function(e){for(var t=[],n=e.length,i=this._queue.length,o=0;n>o;o++){for(var r=e[o],s=0;i>s&&(r=this._queue[s](r,o,e),void 0!==r&&null!==r);s++);void 0!==r&&null!==r&&t.push(r)}return t},t.Pipeline.prototype.reset=function(){this._queue=[]},t.Pipeline.prototype.get=function(){return this._queue},t.Pipeline.prototype.toJSON=function(){return this._queue.map(function(e){return t.Pipeline.warnIfFunctionNotRegistered(e),e.label})},t.Index=function(){this._fields=[],this._ref="id",this.pipeline=new t.Pipeline,this.documentStore=new t.DocumentStore,this.index={},this.eventEmitter=new t.EventEmitter,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},t.Index.prototype.on=function(){var e=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,e)},t.Index.prototype.off=function(e,t){return this.eventEmitter.removeListener(e,t)},t.Index.load=function(e){e.version!==t.version&&t.utils.warn("version mismatch: current "+t.version+" importing "+e.version);var n=new this;n._fields=e.fields,n._ref=e.ref,n.documentStore=t.DocumentStore.load(e.documentStore),n.pipeline=t.Pipeline.load(e.pipeline),n.index={};for(var i in e.index)n.index[i]=t.InvertedIndex.load(e.index[i]);return n},t.Index.prototype.addField=function(e){return this._fields.push(e),this.index[e]=new t.InvertedIndex,this},t.Index.prototype.setRef=function(e){return this._ref=e,this},t.Index.prototype.saveDocument=function(e){return this.documentStore=new t.DocumentStore(e),this},t.Index.prototype.addDoc=function(e,n){if(e){var n=void 0===n?!0:n,i=e[this._ref];this.documentStore.addDoc(i,e),this._fields.forEach(function(n){var o=this.pipeline.run(t.tokenizer(e[n]));this.documentStore.addFieldLength(i,n,o.length);var r={};o.forEach(function(e){e in r?r[e]+=1:r[e]=1},this);for(var s in r){var u=r[s];u=Math.sqrt(u),this.index[n].addToken(s,{ref:i,tf:u})}},this),n&&this.eventEmitter.emit("add",e,this)}},t.Index.prototype.removeDocByRef=function(e){if(e&&this.documentStore.isDocStored()!==!1&&this.documentStore.hasDoc(e)){var t=this.documentStore.getDoc(e);this.removeDoc(t,!1)}},t.Index.prototype.removeDoc=function(e,n){if(e){var n=void 0===n?!0:n,i=e[this._ref];this.documentStore.hasDoc(i)&&(this.documentStore.removeDoc(i),this._fields.forEach(function(n){var o=this.pipeline.run(t.tokenizer(e[n]));o.forEach(function(e){this.index[n].removeToken(e,i)},this)},this),n&&this.eventEmitter.emit("remove",e,this))}},t.Index.prototype.updateDoc=function(e,t){var t=void 0===t?!0:t;this.removeDocByRef(e[this._ref],!1),this.addDoc(e,!1),t&&this.eventEmitter.emit("update",e,this)},t.Index.prototype.idf=function(e,t){var n="@"+t+"/"+e;if(Object.prototype.hasOwnProperty.call(this._idfCache,n))return this._idfCache[n];var i=this.index[t].getDocFreq(e),o=1+Math.log(this.documentStore.length/(i+1));return this._idfCache[n]=o,o},t.Index.prototype.getFields=function(){return this._fields.slice()},t.Index.prototype.search=function(e,n){if(!e)return[];e="string"==typeof e?{any:e}:JSON.parse(JSON.stringify(e));var i=null;null!=n&&(i=JSON.stringify(n));for(var o=new t.Configuration(i,this.getFields()).get(),r={},s=Object.keys(e),u=0;u<s.length;u++){var a=s[u];r[a]=this.pipeline.run(t.tokenizer(e[a]))}var l={};for(var c in o){var d=r[c]||r.any;if(d){var f=this.fieldSearch(d,c,o),h=o[c].boost;for(var p in f)f[p]=f[p]*h;for(var p in f)p in l?l[p]+=f[p]:l[p]=f[p]}}var v,g=[];for(var p in l)v={ref:p,score:l[p]},this.documentStore.hasDoc(p)&&(v.doc=this.documentStore.getDoc(p)),g.push(v);return g.sort(function(e,t){return t.score-e.score}),g},t.Index.prototype.fieldSearch=function(e,t,n){var i=n[t].bool,o=n[t].expand,r=n[t].boost,s=null,u={};return 0!==r?(e.forEach(function(e){var n=[e];1==o&&(n=this.index[t].expandToken(e));var r={};n.forEach(function(n){var o=this.index[t].getDocs(n),a=this.idf(n,t);if(s&&"AND"==i){var l={};for(var c in s)c in o&&(l[c]=o[c]);o=l}n==e&&this.fieldSearchStats(u,n,o);for(var c in o){var d=this.index[t].getTermFrequency(n,c),f=this.documentStore.getFieldLength(c,t),h=1;0!=f&&(h=1/Math.sqrt(f));var p=1;n!=e&&(p=.15*(1-(n.length-e.length)/n.length));var v=d*a*h*p;c in r?r[c]+=v:r[c]=v}},this),s=this.mergeScores(s,r,i)},this),s=this.coordNorm(s,u,e.length)):void 0},t.Index.prototype.mergeScores=function(e,t,n){if(!e)return t;if("AND"==n){var i={};for(var o in t)o in e&&(i[o]=e[o]+t[o]);return i}for(var o in t)o in e?e[o]+=t[o]:e[o]=t[o];return e},t.Index.prototype.fieldSearchStats=function(e,t,n){for(var i in n)i in e?e[i].push(t):e[i]=[t]},t.Index.prototype.coordNorm=function(e,t,n){for(var i in e)if(i in t){var o=t[i].length;e[i]=e[i]*o/n}return e},t.Index.prototype.toJSON=function(){var e={};return this._fields.forEach(function(t){e[t]=this.index[t].toJSON()},this),{version:t.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),index:e,pipeline:this.pipeline.toJSON()}},t.Index.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},t.DocumentStore=function(e){this._save=null===e||void 0===e?!0:e,this.docs={},this.docInfo={},this.length=0},t.DocumentStore.load=function(e){var t=new this;return t.length=e.length,t.docs=e.docs,t.docInfo=e.docInfo,t._save=e.save,t},t.DocumentStore.prototype.isDocStored=function(){return this._save},t.DocumentStore.prototype.addDoc=function(t,n){this.hasDoc(t)||this.length++,this.docs[t]=this._save===!0?e(n):null},t.DocumentStore.prototype.getDoc=function(e){return this.hasDoc(e)===!1?null:this.docs[e]},t.DocumentStore.prototype.hasDoc=function(e){return e in this.docs},t.DocumentStore.prototype.removeDoc=function(e){this.hasDoc(e)&&(delete this.docs[e],delete this.docInfo[e],this.length--)},t.DocumentStore.prototype.addFieldLength=function(e,t,n){null!==e&&void 0!==e&&0!=this.hasDoc(e)&&(this.docInfo[e]||(this.docInfo[e]={}),this.docInfo[e][t]=n)},t.DocumentStore.prototype.updateFieldLength=function(e,t,n){null!==e&&void 0!==e&&0!=this.hasDoc(e)&&this.addFieldLength(e,t,n)},t.DocumentStore.prototype.getFieldLength=function(e,t){return null===e||void 0===e?0:e in this.docs&&t in this.docInfo[e]?this.docInfo[e][t]:0},t.DocumentStore.prototype.toJSON=function(){return{docs:this.docs,docInfo:this.docInfo,length:this.length,save:this._save}},t.stemmer=function(){var e={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},t={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},n="[^aeiou]",i="[aeiouy]",o=n+"[^aeiouy]*",r=i+"[aeiou]*",s="^("+o+")?"+r+o,u="^("+o+")?"+r+o+"("+r+")?$",a="^("+o+")?"+r+o+r+o,l="^("+o+")?"+i,c=new RegExp(s),d=new RegExp(a),f=new RegExp(u),h=new RegExp(l),p=/^(.+?)(ss|i)es$/,v=/^(.+?)([^s])s$/,g=/^(.+?)eed$/,m=/^(.+?)(ed|ing)$/,y=/.$/,S=/(at|bl|iz)$/,x=new RegExp("([^aeiouylsz])\\1$"),w=new RegExp("^"+o+i+"[^aeiouwxy]$"),I=/^(.+?[^aeiou])y$/,b=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,E=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,D=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,F=/^(.+?)(s|t)(ion)$/,_=/^(.+?)e$/,P=/ll$/,k=new RegExp("^"+o+i+"[^aeiouwxy]$"),z=function(n){var i,o,r,s,u,a,l;if(n.length<3)return n;if(r=n.substr(0,1),"y"==r&&(n=r.toUpperCase()+n.substr(1)),s=p,u=v,s.test(n)?n=n.replace(s,"$1$2"):u.test(n)&&(n=n.replace(u,"$1$2")),s=g,u=m,s.test(n)){var z=s.exec(n);s=c,s.test(z[1])&&(s=y,n=n.replace(s,""))}else if(u.test(n)){var z=u.exec(n);i=z[1],u=h,u.test(i)&&(n=i,u=S,a=x,l=w,u.test(n)?n+="e":a.test(n)?(s=y,n=n.replace(s,"")):l.test(n)&&(n+="e"))}if(s=I,s.test(n)){var z=s.exec(n);i=z[1],n=i+"i"}if(s=b,s.test(n)){var z=s.exec(n);i=z[1],o=z[2],s=c,s.test(i)&&(n=i+e[o])}if(s=E,s.test(n)){var z=s.exec(n);i=z[1],o=z[2],s=c,s.test(i)&&(n=i+t[o])}if(s=D,u=F,s.test(n)){var z=s.exec(n);i=z[1],s=d,s.test(i)&&(n=i)}else if(u.test(n)){var z=u.exec(n);i=z[1]+z[2],u=d,u.test(i)&&(n=i)}if(s=_,s.test(n)){var z=s.exec(n);i=z[1],s=d,u=f,a=k,(s.test(i)||u.test(i)&&!a.test(i))&&(n=i)}return s=P,u=d,s.test(n)&&u.test(n)&&(s=y,n=n.replace(s,"")),"y"==r&&(n=r.toLowerCase()+n.substr(1)),n};return z}(),t.Pipeline.registerFunction(t.stemmer,"stemmer"),t.stopWordFilter=function(e){return e&&t.stopWordFilter.stopWords[e]!==!0?e:void 0},t.clearStopWords=function(){t.stopWordFilter.stopWords={}},t.addStopWords=function(e){null!=e&&Array.isArray(e)!==!1&&e.forEach(function(e){t.stopWordFilter.stopWords[e]=!0},this)},t.resetStopWords=function(){t.stopWordFilter.stopWords=t.defaultStopWords},t.defaultStopWords={"":!0,a:!0,able:!0,about:!0,across:!0,after:!0,all:!0,almost:!0,also:!0,am:!0,among:!0,an:!0,and:!0,any:!0,are:!0,as:!0,at:!0,be:!0,because:!0,been:!0,but:!0,by:!0,can:!0,cannot:!0,could:!0,dear:!0,did:!0,"do":!0,does:!0,either:!0,"else":!0,ever:!0,every:!0,"for":!0,from:!0,get:!0,got:!0,had:!0,has:!0,have:!0,he:!0,her:!0,hers:!0,him:!0,his:!0,how:!0,however:!0,i:!0,"if":!0,"in":!0,into:!0,is:!0,it:!0,its:!0,just:!0,least:!0,let:!0,like:!0,likely:!0,may:!0,me:!0,might:!0,most:!0,must:!0,my:!0,neither:!0,no:!0,nor:!0,not:!0,of:!0,off:!0,often:!0,on:!0,only:!0,or:!0,other:!0,our:!0,own:!0,rather:!0,said:!0,say:!0,says:!0,she:!0,should:!0,since:!0,so:!0,some:!0,than:!0,that:!0,the:!0,their:!0,them:!0,then:!0,there:!0,these:!0,they:!0,"this":!0,tis:!0,to:!0,too:!0,twas:!0,us:!0,wants:!0,was:!0,we:!0,were:!0,what:!0,when:!0,where:!0,which:!0,"while":!0,who:!0,whom:!0,why:!0,will:!0,"with":!0,would:!0,yet:!0,you:!0,your:!0},t.stopWordFilter.stopWords=t.defaultStopWords,t.Pipeline.registerFunction(t.stopWordFilter,"stopWordFilter"),t.trimmer=function(e){if(null===e||void 0===e)throw new Error("token should not be undefined");return e.replace(/^\W+/,"").replace(/\W+$/,"")},t.Pipeline.registerFunction(t.trimmer,"trimmer"),t.InvertedIndex=function(){this.root={docs:{},df:0}},t.InvertedIndex.load=function(e){var t=new this;return t.root=e.root,t},t.InvertedIndex.prototype.addToken=function(e,t,n){for(var n=n||this.root,i=0;i<=e.length-1;){var o=e[i];o in n||(n[o]={docs:{},df:0}),i+=1,n=n[o]}var r=t.ref;n.docs[r]?n.docs[r]={tf:t.tf}:(n.docs[r]={tf:t.tf},n.df+=1)},t.InvertedIndex.prototype.hasToken=function(e){if(!e)return!1;for(var t=this.root,n=0;n<e.length;n++){if(!t[e[n]])return!1;t=t[e[n]]}return!0},t.InvertedIndex.prototype.getNode=function(e){if(!e)return null;for(var t=this.root,n=0;n<e.length;n++){if(!t[e[n]])return null;t=t[e[n]]}return t},t.InvertedIndex.prototype.getDocs=function(e){var t=this.getNode(e);return null==t?{}:t.docs},t.InvertedIndex.prototype.getTermFrequency=function(e,t){var n=this.getNode(e);return null==n?0:t in n.docs?n.docs[t].tf:0},t.InvertedIndex.prototype.getDocFreq=function(e){var t=this.getNode(e);return null==t?0:t.df},t.InvertedIndex.prototype.removeToken=function(e,t){if(e){var n=this.getNode(e);null!=n&&t in n.docs&&(delete n.docs[t],n.df-=1)}},t.InvertedIndex.prototype.expandToken=function(e,t,n){if(null==e||""==e)return[];var t=t||[];if(void 0==n&&(n=this.getNode(e),null==n))return t;n.df>0&&t.push(e);for(var i in n)"docs"!==i&&"df"!==i&&this.expandToken(e+i,t,n[i]);return t},t.InvertedIndex.prototype.toJSON=function(){return{root:this.root}},t.Configuration=function(e,n){var e=e||"";if(void 0==n||null==n)throw new Error("fields should not be null");this.config={};var i;try{i=JSON.parse(e),this.buildUserConfig(i,n)}catch(o){t.utils.warn("user configuration parse failed, will use default configuration"),this.buildDefaultConfig(n)}},t.Configuration.prototype.buildDefaultConfig=function(e){this.reset(),e.forEach(function(e){this.config[e]={boost:1,bool:"OR",expand:!1}},this)},t.Configuration.prototype.buildUserConfig=function(e,n){var i="OR",o=!1;if(this.reset(),"bool"in e&&(i=e.bool||i),"expand"in e&&(o=e.expand||o),"fields"in e)for(var r in e.fields)if(n.indexOf(r)>-1){var s=e.fields[r],u=o;void 0!=s.expand&&(u=s.expand),this.config[r]={boost:s.boost||0===s.boost?s.boost:1,bool:s.bool||i,expand:u}}else t.utils.warn("field name in user configuration not found in index instance fields");else this.addAllFields2UserConfig(i,o,n)},t.Configuration.prototype.addAllFields2UserConfig=function(e,t,n){n.forEach(function(n){this.config[n]={boost:1,bool:e,expand:t}},this)},t.Configuration.prototype.get=function(){return this.config},t.Configuration.prototype.reset=function(){this.config={}},lunr.SortedSet=function(){this.length=0,this.elements=[]},lunr.SortedSet.load=function(e){var t=new this;return t.elements=e,t.length=e.length,t},lunr.SortedSet.prototype.add=function(){var e,t;for(e=0;e<arguments.length;e++)t=arguments[e],~this.indexOf(t)||this.elements.splice(this.locationFor(t),0,t);this.length=this.elements.length},lunr.SortedSet.prototype.toArray=function(){return this.elements.slice()},lunr.SortedSet.prototype.map=function(e,t){return this.elements.map(e,t)},lunr.SortedSet.prototype.forEach=function(e,t){return this.elements.forEach(e,t)},lunr.SortedSet.prototype.indexOf=function(e){for(var t=0,n=this.elements.length,i=n-t,o=t+Math.floor(i/2),r=this.elements[o];i>1;){if(r===e)return o;e>r&&(t=o),r>e&&(n=o),i=n-t,o=t+Math.floor(i/2),r=this.elements[o]}return r===e?o:-1},lunr.SortedSet.prototype.locationFor=function(e){for(var t=0,n=this.elements.length,i=n-t,o=t+Math.floor(i/2),r=this.elements[o];i>1;)e>r&&(t=o),r>e&&(n=o),i=n-t,o=t+Math.floor(i/2),r=this.elements[o];return r>e?o:e>r?o+1:void 0},lunr.SortedSet.prototype.intersect=function(e){for(var t=new lunr.SortedSet,n=0,i=0,o=this.length,r=e.length,s=this.elements,u=e.elements;;){if(n>o-1||i>r-1)break;s[n]!==u[i]?s[n]<u[i]?n++:s[n]>u[i]&&i++:(t.add(s[n]),n++,i++)}return t},lunr.SortedSet.prototype.clone=function(){var e=new lunr.SortedSet;return e.elements=this.toArray(),e.length=e.elements.length,e},lunr.SortedSet.prototype.union=function(e){var t,n,i;this.length>=e.length?(t=this,n=e):(t=e,n=this),i=t.clone();for(var o=0,r=n.toArray();o<r.length;o++)i.add(r[o]);return i},lunr.SortedSet.prototype.toJSON=function(){return this.toArray()},function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.elasticlunr=t()}(this,function(){return t})}();
    /** pdoc search index */const docs = [{"fullname": "subsequence", "modulename": "subsequence", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "subsequence.Composition", "modulename": "subsequence", "qualname": "Composition", "kind": "class", "doc": "<p>Top-level composition object that owns the sequencer, harmonic state, and pattern registry.</p>\n"}, {"fullname": "subsequence.Composition.__init__", "modulename": "subsequence", "qualname": "Composition.__init__", "kind": "function", "doc": "<p>Initialize a composition with MIDI device, tempo, and optional key.</p>\n\n<p>Parameters:\n        device: MIDI device name (e.g., <code>\"Device Name:Port 1 16:0\"</code>)\n        bpm: Tempo in beats per minute (default 120)\n        key: Root key name (e.g., <code>\"C\"</code>, <code>\"F#\"</code>, <code>\"Bb\"</code>). Required if using <code>harmony()</code>.\n        seed: Optional random seed. When set, all randomness (chord progressions, form\n                transitions, pattern builder functions) becomes deterministic and repeatable.</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">composition</span> <span class=\"o\">=</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">Composition</span><span class=\"p\">(</span>\n        <span class=\"n\">device</span><span class=\"o\">=</span><span class=\"s2\">&quot;Scarlett 2i4 USB:Scarlett 2i4 USB MIDI 1 16:0&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">bpm</span><span class=\"o\">=</span><span class=\"mi\">125</span><span class=\"p\">,</span>\n        <span class=\"n\">key</span><span class=\"o\">=</span><span class=\"s2\">&quot;E&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">seed</span><span class=\"o\">=</span><span class=\"mi\">42</span>\n<span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">device</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">bpm</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">120</span>,</span><span class=\"param\">\t<span class=\"n\">key</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">seed</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span>)</span>"}, {"fullname": "subsequence.Composition.device", "modulename": "subsequence", "qualname": "Composition.device", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.Composition.bpm", "modulename": "subsequence", "qualname": "Composition.bpm", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.Composition.key", "modulename": "subsequence", "qualname": "Composition.key", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.Composition.data", "modulename": "subsequence", "qualname": "Composition.data", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Dict[str, Any]"}, {"fullname": "subsequence.Composition.harmony", "modulename": "subsequence", "qualname": "Composition.harmony", "kind": "function", "doc": "<p>Configure the harmonic state and chord change cycle for this composition.</p>\n\n<p>Parameters:\n        style: Chord graph style \u2014 <code>\"diatonic_major\"</code>, <code>\"turnaround\"</code>, <code>\"dark_minor\"</code>, or a <code>ChordGraph</code> instance\n        cycle_beats: How often chords change (in beats, default 4)\n        dominant_7th: Include dominant seventh chords (default True)\n        gravity: Key gravity blend 0.0-1.0 (default 1.0). Higher values favor chords closer to the tonic.\n        minor_weight: Weight for minor vs major turnarounds 0.0-1.0 (default 0.0, turnaround graph only)\n        reschedule_lookahead: Reschedule lookahead in beats (default 1)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">harmony</span><span class=\"p\">(</span>\n        <span class=\"n\">style</span><span class=\"o\">=</span><span class=\"s2\">&quot;dark_minor&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">cycle_beats</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">,</span>\n        <span class=\"n\">dominant_7th</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n        <span class=\"n\">gravity</span><span class=\"o\">=</span><span class=\"mf\">0.8</span>\n<span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">style</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chord_graphs</span><span class=\"o\">.</span><span class=\"n\">ChordGraph</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;functional_major&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">cycle_beats</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>,</span><span class=\"param\">\t<span class=\"n\">dominant_7th</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">gravity</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">minor_weight</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>,</span><span class=\"param\">\t<span class=\"n\">reschedule_lookahead</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.Composition.on_event", "modulename": "subsequence", "qualname": "Composition.on_event", "kind": "function", "doc": "<p>Register a callback for a sequencer event (e.g., \"bar\", \"start\", \"stop\").</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">event_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span>, </span><span class=\"param\"><span class=\"n\">callback</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[</span><span class=\"o\">...</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.Composition.seed", "modulename": "subsequence", "qualname": "Composition.seed", "kind": "function", "doc": "<p>Set a random seed for deterministic, repeatable output.</p>\n\n<p>When set, all randomness \u2014 chord progressions, form transitions, and pattern\nbuilder functions \u2014 produces the same results on every run. Pattern builders\naccess the seeded RNG via <code>p.rng</code>.</p>\n\n<p>Parameters:\n        value: Integer seed value</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">seed</span><span class=\"p\">(</span><span class=\"mi\">42</span><span class=\"p\">)</span>\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">play</span><span class=\"p\">()</span>  <span class=\"c1\"># same output every time</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">value</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.Composition.display", "modulename": "subsequence", "qualname": "Composition.display", "kind": "function", "doc": "<p>Enable or disable the live terminal status line.</p>\n\n<p>When enabled, a persistent status line shows the current bar, section,\nchord, BPM, and key. Log messages scroll above it without disruption.</p>\n\n<p>Parameters:\n        enabled: Turn the display on (True) or off (False)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"p\">()</span>  <span class=\"c1\"># enable before play()</span>\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">play</span><span class=\"p\">()</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">enabled</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.Composition.live", "modulename": "subsequence", "qualname": "Composition.live", "kind": "function", "doc": "<p>Enable the live coding server for runtime interaction.</p>\n\n<p>Starts a TCP eval server on <code>localhost</code> that accepts Python code from\nany source \u2014 the bundled REPL client, an editor plugin, or a raw socket.\nThe server launches when <code>play()</code> is called and stops when playback ends.</p>\n\n<p>Parameters:\n        port: TCP port to listen on (default 5555)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">live</span><span class=\"p\">()</span>      <span class=\"c1\"># enable before play()</span>\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"p\">()</span>\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">play</span><span class=\"p\">()</span>\n</code></pre>\n</div>\n\n\n\n    Then in another terminal::\n\n            python -m subsequence.live_client\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">port</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5555</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.Composition.set_bpm", "modulename": "subsequence", "qualname": "Composition.set_bpm", "kind": "function", "doc": "<p>Change the tempo while the composition is playing.</p>\n\n<p>Parameters:\n        bpm: New tempo in beats per minute</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">set_bpm</span><span class=\"p\">(</span><span class=\"mi\">140</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">bpm</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.Composition.live_info", "modulename": "subsequence", "qualname": "Composition.live_info", "kind": "function", "doc": "<p>Return a snapshot of the running composition state.</p>\n\n<p>Returns a dict with: <code>bpm</code>, <code>key</code>, <code>bar</code>, <code>section</code>, <code>chord</code>,\n<code>patterns</code> (list of dicts), and <code>data</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">info</span> <span class=\"o\">=</span> <span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">live_info</span><span class=\"p\">()</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">info</span><span class=\"p\">[</span><span class=\"s2\">&quot;bpm&quot;</span><span class=\"p\">],</span> <span class=\"n\">info</span><span class=\"p\">[</span><span class=\"s2\">&quot;chord&quot;</span><span class=\"p\">])</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.Composition.mute", "modulename": "subsequence", "qualname": "Composition.mute", "kind": "function", "doc": "<p>Mute a running pattern by name. The pattern keeps scheduling but produces no notes.</p>\n\n<p>Parameters:\n        name: The function name of the pattern to mute</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">mute</span><span class=\"p\">(</span><span class=\"s2\">&quot;hats&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">name</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.Composition.unmute", "modulename": "subsequence", "qualname": "Composition.unmute", "kind": "function", "doc": "<p>Unmute a previously muted pattern.</p>\n\n<p>Parameters:\n        name: The function name of the pattern to unmute</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">unmute</span><span class=\"p\">(</span><span class=\"s2\">&quot;hats&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">name</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.Composition.schedule", "modulename": "subsequence", "qualname": "Composition.schedule", "kind": "function", "doc": "<p>Register a function to run on a repeating beat-based cycle.</p>\n\n<p>Sync functions automatically run in a thread pool so they never block the MIDI clock.\nAsync functions run directly on the event loop.</p>\n\n<p>Parameters:\n        fn: Function to call on each cycle (sync or async)\n        cycle_beats: How often to call the function (in beats)\n        reschedule_lookahead: Reschedule lookahead in beats (default 1)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"c1\"># Sync function (runs in thread pool automatically)</span>\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">fetch_data</span><span class=\"p\">():</span>\n        <span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s2\">&quot;value&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">some_external_api</span><span class=\"p\">()</span>\n\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">schedule</span><span class=\"p\">(</span><span class=\"n\">fetch_data</span><span class=\"p\">,</span> <span class=\"n\">cycle_beats</span><span class=\"o\">=</span><span class=\"mi\">32</span><span class=\"p\">)</span>  <span class=\"c1\"># Every 8 bars</span>\n\n<span class=\"c1\"># Async function (runs directly)</span>\n<span class=\"k\">async</span> <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">async_task</span><span class=\"p\">():</span>\n        <span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s2\">&quot;value&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">some_async_api</span><span class=\"p\">()</span>\n\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">schedule</span><span class=\"p\">(</span><span class=\"n\">async_task</span><span class=\"p\">,</span> <span class=\"n\">cycle_beats</span><span class=\"o\">=</span><span class=\"mi\">16</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">fn</span><span class=\"p\">:</span> <span class=\"n\">Callable</span>,</span><span class=\"param\">\t<span class=\"n\">cycle_beats</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">reschedule_lookahead</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.Composition.form", "modulename": "subsequence", "qualname": "Composition.form", "kind": "function", "doc": "<p>Define the compositional form as a sequence of sections or a weighted section graph.</p>\n\n<p>Three modes:</p>\n\n<ul>\n<li><strong>Dict</strong> (graph): Weighted section transitions. Format: <code>{section_name: (bars, [(next_section, weight), ...])}</code></li>\n<li><strong>List</strong>: Linear sequence. With <code>loop=True</code>, cycles back to the start.</li>\n<li><strong>Generator</strong>: Yields <code>(name, bars)</code> tuples for stochastic structures.</li>\n</ul>\n\n<p>Parameters:\n        sections: Dict (graph), list, or generator of <code>(name, bars)</code> tuples\n        loop: For lists only \u2014 cycle back to start after the last section (default False)\n        start: For dicts only \u2014 initial section name (default: first dict key)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"c1\"># Graph-based form \u2014 intro plays once, then never returns</span>\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">form</span><span class=\"p\">({</span>\n        <span class=\"s2\">&quot;intro&quot;</span><span class=\"p\">:</span>     <span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;verse&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)]),</span>\n        <span class=\"s2\">&quot;verse&quot;</span><span class=\"p\">:</span>     <span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;chorus&quot;</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s2\">&quot;bridge&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)]),</span>\n        <span class=\"s2\">&quot;chorus&quot;</span><span class=\"p\">:</span>    <span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;breakdown&quot;</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s2\">&quot;verse&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)]),</span>\n        <span class=\"s2\">&quot;bridge&quot;</span><span class=\"p\">:</span>    <span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;chorus&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)]),</span>\n        <span class=\"s2\">&quot;breakdown&quot;</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;verse&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)]),</span>\n<span class=\"p\">},</span> <span class=\"n\">start</span><span class=\"o\">=</span><span class=\"s2\">&quot;intro&quot;</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># List-based form with loop</span>\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">form</span><span class=\"p\">([(</span><span class=\"s2\">&quot;intro&quot;</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s2\">&quot;verse&quot;</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s2\">&quot;chorus&quot;</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">)],</span> <span class=\"n\">loop</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Generator form</span>\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">my_form</span><span class=\"p\">():</span>\n        <span class=\"k\">yield</span> <span class=\"p\">(</span><span class=\"s2\">&quot;intro&quot;</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">)</span>\n        <span class=\"k\">while</span> <span class=\"kc\">True</span><span class=\"p\">:</span>\n                <span class=\"k\">yield</span> <span class=\"p\">(</span><span class=\"s2\">&quot;verse&quot;</span><span class=\"p\">,</span> <span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">choice</span><span class=\"p\">([</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"mi\">16</span><span class=\"p\">]))</span>\n                <span class=\"k\">yield</span> <span class=\"p\">(</span><span class=\"s2\">&quot;chorus&quot;</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">)</span>\n\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">form</span><span class=\"p\">(</span><span class=\"n\">my_form</span><span class=\"p\">())</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">sections</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]],</span> <span class=\"n\">Iterator</span><span class=\"p\">[</span><span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]],</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]]]]]]</span>,</span><span class=\"param\">\t<span class=\"n\">loop</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">start</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.Composition.pattern", "modulename": "subsequence", "qualname": "Composition.pattern", "kind": "function", "doc": "<p>Decorator that registers a builder function as a repeating pattern.</p>\n\n<p>The builder function receives a <code>PatternBuilder</code> (<code>p</code>) and optionally a <code>chord</code> parameter\n(automatically injected if present and harmony is configured).</p>\n\n<p>Parameters:\n        channel: MIDI channel (0-15)\n        length: Pattern length in beats (default 4)\n        drum_note_map: Optional dict mapping string names to MIDI note numbers (e.g., <code>{\"kick\": 36}</code>)\n        reschedule_lookahead: Reschedule lookahead in beats (default 1)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"nd\">@composition</span><span class=\"o\">.</span><span class=\"n\">pattern</span><span class=\"p\">(</span><span class=\"n\">channel</span><span class=\"o\">=</span><span class=\"mi\">9</span><span class=\"p\">,</span> <span class=\"n\">length</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"n\">drum_note_map</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">&quot;kick&quot;</span><span class=\"p\">:</span> <span class=\"mi\">36</span><span class=\"p\">,</span> <span class=\"s2\">&quot;snare&quot;</span><span class=\"p\">:</span> <span class=\"mi\">38</span><span class=\"p\">})</span>\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">drums</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">):</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">hit_steps</span><span class=\"p\">(</span><span class=\"s2\">&quot;kick&quot;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">],</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">127</span><span class=\"p\">)</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">hit_steps</span><span class=\"p\">(</span><span class=\"s2\">&quot;snare&quot;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">],</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n\n<span class=\"nd\">@composition</span><span class=\"o\">.</span><span class=\"n\">pattern</span><span class=\"p\">(</span><span class=\"n\">channel</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">length</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">)</span>\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">melody</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">,</span> <span class=\"n\">chord</span><span class=\"p\">):</span>\n        <span class=\"c1\"># chord is automatically injected</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">note</span><span class=\"p\">(</span><span class=\"n\">chord</span><span class=\"o\">.</span><span class=\"n\">tones</span><span class=\"p\">(</span><span class=\"n\">root</span><span class=\"o\">=</span><span class=\"mi\">60</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">beat</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">90</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">channel</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">length</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>,</span><span class=\"param\">\t<span class=\"n\">drum_note_map</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">reschedule_lookahead</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mi\">1</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Callable</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.Composition.layer", "modulename": "subsequence", "qualname": "Composition.layer", "kind": "function", "doc": "<p>Register multiple builder functions as a single layered pattern.</p>\n\n<p>Each builder function runs sequentially on the same PatternBuilder, so their notes\nmerge into one pattern. This is useful for composing reusable rhythm or melody\nfragments without creating separate MIDI patterns.</p>\n\n<p>Transforms like <code>dropout()</code> or <code>swing()</code> called in any builder affect the\ncombined result. If you need transforms to apply to only one layer, use separate\npatterns instead.</p>\n\n<p>Parameters:\n        *builder_fns: Two or more builder functions (each takes a PatternBuilder, and optionally a chord)\n        channel: MIDI channel (0-15)\n        length: Pattern length in beats (default 4)\n        drum_note_map: Optional dict mapping string names to MIDI note numbers\n        reschedule_lookahead: Reschedule lookahead in beats (default 1)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">kick</span> <span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">):</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">hit_steps</span><span class=\"p\">(</span><span class=\"s2\">&quot;kick&quot;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">],</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">127</span><span class=\"p\">)</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">hats</span> <span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">):</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">hit_steps</span><span class=\"p\">(</span><span class=\"s2\">&quot;hh_closed&quot;</span><span class=\"p\">,</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">16</span><span class=\"p\">)),</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">80</span><span class=\"p\">)</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">velocity_shape</span><span class=\"p\">(</span><span class=\"n\">low</span><span class=\"o\">=</span><span class=\"mi\">60</span><span class=\"p\">,</span> <span class=\"n\">high</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">layer</span><span class=\"p\">(</span><span class=\"n\">kick</span><span class=\"p\">,</span> <span class=\"n\">hats</span><span class=\"p\">,</span> <span class=\"n\">channel</span><span class=\"o\">=</span><span class=\"mi\">9</span><span class=\"p\">,</span> <span class=\"n\">length</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"n\">drum_note_map</span><span class=\"o\">=</span><span class=\"n\">DRUM_NOTE_MAP</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"o\">*</span><span class=\"n\">builder_fns</span><span class=\"p\">:</span> <span class=\"n\">Callable</span>,</span><span class=\"param\">\t<span class=\"n\">channel</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">length</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>,</span><span class=\"param\">\t<span class=\"n\">drum_note_map</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">reschedule_lookahead</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mi\">1</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.Composition.play", "modulename": "subsequence", "qualname": "Composition.play", "kind": "function", "doc": "<p>Start playback, blocking until stopped via Ctrl+C or signal.</p>\n\n<p>Schedules all registered patterns, harmonic state (if configured), form state (if configured),\nand scheduled tasks. Runs the sequencer loop until interrupted.</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;__main__&quot;</span><span class=\"p\">:</span>\n        <span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">play</span><span class=\"p\">()</span>  <span class=\"c1\"># Press Ctrl+C to stop</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.chord_graphs", "modulename": "subsequence.chord_graphs", "kind": "module", "doc": "<p>Chord graph builders for different harmonic transition models.</p>\n"}, {"fullname": "subsequence.chord_graphs.WEIGHT_STRONG", "modulename": "subsequence.chord_graphs", "qualname": "WEIGHT_STRONG", "kind": "variable", "doc": "<p></p>\n", "default_value": "6"}, {"fullname": "subsequence.chord_graphs.WEIGHT_MEDIUM", "modulename": "subsequence.chord_graphs", "qualname": "WEIGHT_MEDIUM", "kind": "variable", "doc": "<p></p>\n", "default_value": "4"}, {"fullname": "subsequence.chord_graphs.WEIGHT_COMMON", "modulename": "subsequence.chord_graphs", "qualname": "WEIGHT_COMMON", "kind": "variable", "doc": "<p></p>\n", "default_value": "3"}, {"fullname": "subsequence.chord_graphs.WEIGHT_DECEPTIVE", "modulename": "subsequence.chord_graphs", "qualname": "WEIGHT_DECEPTIVE", "kind": "variable", "doc": "<p></p>\n", "default_value": "2"}, {"fullname": "subsequence.chord_graphs.WEIGHT_WEAK", "modulename": "subsequence.chord_graphs", "qualname": "WEIGHT_WEAK", "kind": "variable", "doc": "<p></p>\n", "default_value": "1"}, {"fullname": "subsequence.chord_graphs.ChordGraph", "modulename": "subsequence.chord_graphs", "qualname": "ChordGraph", "kind": "class", "doc": "<p>Abstract base for chord transition graphs.</p>\n", "bases": "abc.ABC"}, {"fullname": "subsequence.chord_graphs.ChordGraph.build", "modulename": "subsequence.chord_graphs", "qualname": "ChordGraph.build", "kind": "function", "doc": "<p>Build the weighted graph and return it with the tonic chord.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">key_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">weighted_graph</span><span class=\"o\">.</span><span class=\"n\">WeightedGraph</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">],</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.chord_graphs.ChordGraph.gravity_sets", "modulename": "subsequence.chord_graphs", "qualname": "ChordGraph.gravity_sets", "kind": "function", "doc": "<p>Return (diatonic_set, functional_set) for key gravity weighting.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">key_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"n\">Set</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">],</span> <span class=\"n\">Set</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">]]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.chord_graphs.dark_minor", "modulename": "subsequence.chord_graphs.dark_minor", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "subsequence.chord_graphs.dark_minor.WEIGHT_STRONG", "modulename": "subsequence.chord_graphs.dark_minor", "qualname": "WEIGHT_STRONG", "kind": "variable", "doc": "<p></p>\n", "default_value": "6"}, {"fullname": "subsequence.chord_graphs.dark_minor.WEIGHT_MEDIUM", "modulename": "subsequence.chord_graphs.dark_minor", "qualname": "WEIGHT_MEDIUM", "kind": "variable", "doc": "<p></p>\n", "default_value": "4"}, {"fullname": "subsequence.chord_graphs.dark_minor.WEIGHT_COMMON", "modulename": "subsequence.chord_graphs.dark_minor", "qualname": "WEIGHT_COMMON", "kind": "variable", "doc": "<p></p>\n", "default_value": "3"}, {"fullname": "subsequence.chord_graphs.dark_minor.WEIGHT_DECEPTIVE", "modulename": "subsequence.chord_graphs.dark_minor", "qualname": "WEIGHT_DECEPTIVE", "kind": "variable", "doc": "<p></p>\n", "default_value": "2"}, {"fullname": "subsequence.chord_graphs.dark_minor.WEIGHT_WEAK", "modulename": "subsequence.chord_graphs.dark_minor", "qualname": "WEIGHT_WEAK", "kind": "variable", "doc": "<p></p>\n", "default_value": "1"}, {"fullname": "subsequence.chord_graphs.dark_minor.WEIGHT_PHRYGIAN", "modulename": "subsequence.chord_graphs.dark_minor", "qualname": "WEIGHT_PHRYGIAN", "kind": "variable", "doc": "<p></p>\n", "default_value": "5"}, {"fullname": "subsequence.chord_graphs.dark_minor.WEIGHT_PLAGAL", "modulename": "subsequence.chord_graphs.dark_minor", "qualname": "WEIGHT_PLAGAL", "kind": "variable", "doc": "<p></p>\n", "default_value": "4"}, {"fullname": "subsequence.chord_graphs.dark_minor.DarkMinor", "modulename": "subsequence.chord_graphs.dark_minor", "qualname": "DarkMinor", "kind": "class", "doc": "<p>Minor-key graph with Phrygian, aeolian, and chromatic elements for dark electronic music.</p>\n", "bases": "subsequence.chord_graphs.ChordGraph"}, {"fullname": "subsequence.chord_graphs.dark_minor.DarkMinor.__init__", "modulename": "subsequence.chord_graphs.dark_minor", "qualname": "DarkMinor.__init__", "kind": "function", "doc": "<p>Configure whether to include dominant seventh chords.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">include_dominant_7th</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span>)</span>"}, {"fullname": "subsequence.chord_graphs.dark_minor.DarkMinor.include_dominant_7th", "modulename": "subsequence.chord_graphs.dark_minor", "qualname": "DarkMinor.include_dominant_7th", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.chord_graphs.dark_minor.DarkMinor.build", "modulename": "subsequence.chord_graphs.dark_minor", "qualname": "DarkMinor.build", "kind": "function", "doc": "<p>Build a dark minor-key graph with Phrygian and aeolian elements.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">key_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">weighted_graph</span><span class=\"o\">.</span><span class=\"n\">WeightedGraph</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">],</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.chord_graphs.dark_minor.DarkMinor.gravity_sets", "modulename": "subsequence.chord_graphs.dark_minor", "qualname": "DarkMinor.gravity_sets", "kind": "function", "doc": "<p>Return minor-key diatonic and functional chord sets.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">key_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"n\">Set</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">],</span> <span class=\"n\">Set</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">]]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.chord_graphs.functional_major", "modulename": "subsequence.chord_graphs.functional_major", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "subsequence.chord_graphs.functional_major.WEIGHT_STRONG", "modulename": "subsequence.chord_graphs.functional_major", "qualname": "WEIGHT_STRONG", "kind": "variable", "doc": "<p></p>\n", "default_value": "6"}, {"fullname": "subsequence.chord_graphs.functional_major.WEIGHT_MEDIUM", "modulename": "subsequence.chord_graphs.functional_major", "qualname": "WEIGHT_MEDIUM", "kind": "variable", "doc": "<p></p>\n", "default_value": "4"}, {"fullname": "subsequence.chord_graphs.functional_major.WEIGHT_COMMON", "modulename": "subsequence.chord_graphs.functional_major", "qualname": "WEIGHT_COMMON", "kind": "variable", "doc": "<p></p>\n", "default_value": "3"}, {"fullname": "subsequence.chord_graphs.functional_major.WEIGHT_DECEPTIVE", "modulename": "subsequence.chord_graphs.functional_major", "qualname": "WEIGHT_DECEPTIVE", "kind": "variable", "doc": "<p></p>\n", "default_value": "2"}, {"fullname": "subsequence.chord_graphs.functional_major.WEIGHT_WEAK", "modulename": "subsequence.chord_graphs.functional_major", "qualname": "WEIGHT_WEAK", "kind": "variable", "doc": "<p></p>\n", "default_value": "1"}, {"fullname": "subsequence.chord_graphs.functional_major.DiatonicMajor", "modulename": "subsequence.chord_graphs.functional_major", "qualname": "DiatonicMajor", "kind": "class", "doc": "<p>Single-key functional major harmony graph.</p>\n", "bases": "subsequence.chord_graphs.ChordGraph"}, {"fullname": "subsequence.chord_graphs.functional_major.DiatonicMajor.__init__", "modulename": "subsequence.chord_graphs.functional_major", "qualname": "DiatonicMajor.__init__", "kind": "function", "doc": "<p>Configure whether to include dominant seventh chords.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">include_dominant_7th</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span>)</span>"}, {"fullname": "subsequence.chord_graphs.functional_major.DiatonicMajor.include_dominant_7th", "modulename": "subsequence.chord_graphs.functional_major", "qualname": "DiatonicMajor.include_dominant_7th", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.chord_graphs.functional_major.DiatonicMajor.build", "modulename": "subsequence.chord_graphs.functional_major", "qualname": "DiatonicMajor.build", "kind": "function", "doc": "<p>Build the graph for a given major key.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">key_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">weighted_graph</span><span class=\"o\">.</span><span class=\"n\">WeightedGraph</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">],</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.chord_graphs.functional_major.DiatonicMajor.gravity_sets", "modulename": "subsequence.chord_graphs.functional_major", "qualname": "DiatonicMajor.gravity_sets", "kind": "function", "doc": "<p>Return major-key diatonic and functional chord sets.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">key_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"n\">Set</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">],</span> <span class=\"n\">Set</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">]]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.chord_graphs.functional_major.build_graph", "modulename": "subsequence.chord_graphs.functional_major", "qualname": "build_graph", "kind": "function", "doc": "<p>Build a functional major-key graph and return it with the tonic chord.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">key_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">include_dominant_7th</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">minor_turnaround_weight</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">weighted_graph</span><span class=\"o\">.</span><span class=\"n\">WeightedGraph</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">],</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.chord_graphs.turnaround_global", "modulename": "subsequence.chord_graphs.turnaround_global", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "subsequence.chord_graphs.turnaround_global.WEIGHT_STRONG", "modulename": "subsequence.chord_graphs.turnaround_global", "qualname": "WEIGHT_STRONG", "kind": "variable", "doc": "<p></p>\n", "default_value": "6"}, {"fullname": "subsequence.chord_graphs.turnaround_global.WEIGHT_MEDIUM", "modulename": "subsequence.chord_graphs.turnaround_global", "qualname": "WEIGHT_MEDIUM", "kind": "variable", "doc": "<p></p>\n", "default_value": "4"}, {"fullname": "subsequence.chord_graphs.turnaround_global.WEIGHT_COMMON", "modulename": "subsequence.chord_graphs.turnaround_global", "qualname": "WEIGHT_COMMON", "kind": "variable", "doc": "<p></p>\n", "default_value": "3"}, {"fullname": "subsequence.chord_graphs.turnaround_global.WEIGHT_DECEPTIVE", "modulename": "subsequence.chord_graphs.turnaround_global", "qualname": "WEIGHT_DECEPTIVE", "kind": "variable", "doc": "<p></p>\n", "default_value": "2"}, {"fullname": "subsequence.chord_graphs.turnaround_global.WEIGHT_WEAK", "modulename": "subsequence.chord_graphs.turnaround_global", "qualname": "WEIGHT_WEAK", "kind": "variable", "doc": "<p></p>\n", "default_value": "1"}, {"fullname": "subsequence.chord_graphs.turnaround_global.TurnaroundModulation", "modulename": "subsequence.chord_graphs.turnaround_global", "qualname": "TurnaroundModulation", "kind": "class", "doc": "<p>Global ii-V-I turnaround graph enabling modulation between all keys.</p>\n", "bases": "subsequence.chord_graphs.ChordGraph"}, {"fullname": "subsequence.chord_graphs.turnaround_global.TurnaroundModulation.__init__", "modulename": "subsequence.chord_graphs.turnaround_global", "qualname": "TurnaroundModulation.__init__", "kind": "function", "doc": "<p>Configure dominant sevenths and minor turnaround strength.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">include_dominant_7th</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">minor_turnaround_weight</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span></span>)</span>"}, {"fullname": "subsequence.chord_graphs.turnaround_global.TurnaroundModulation.include_dominant_7th", "modulename": "subsequence.chord_graphs.turnaround_global", "qualname": "TurnaroundModulation.include_dominant_7th", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.chord_graphs.turnaround_global.TurnaroundModulation.minor_turnaround_weight", "modulename": "subsequence.chord_graphs.turnaround_global", "qualname": "TurnaroundModulation.minor_turnaround_weight", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.chord_graphs.turnaround_global.TurnaroundModulation.build", "modulename": "subsequence.chord_graphs.turnaround_global", "qualname": "TurnaroundModulation.build", "kind": "function", "doc": "<p>Build the global turnaround graph for all 12 keys.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">key_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">weighted_graph</span><span class=\"o\">.</span><span class=\"n\">WeightedGraph</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">],</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.chord_graphs.turnaround_global.TurnaroundModulation.gravity_sets", "modulename": "subsequence.chord_graphs.turnaround_global", "qualname": "TurnaroundModulation.gravity_sets", "kind": "function", "doc": "<p>Return major-key diatonic and functional chord sets.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">key_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"n\">Set</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">],</span> <span class=\"n\">Set</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">]]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.chord_graphs.turnaround_global.build_graph", "modulename": "subsequence.chord_graphs.turnaround_global", "qualname": "build_graph", "kind": "function", "doc": "<p>Build a global turnaround graph and return it with the chosen key tonic.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">key_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">include_dominant_7th</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">minor_turnaround_weight</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">weighted_graph</span><span class=\"o\">.</span><span class=\"n\">WeightedGraph</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">],</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.chords", "modulename": "subsequence.chords", "kind": "module", "doc": "<p>Chord definitions and pitch class utilities.</p>\n\n<p>This module provides chord quality definitions, pitch class mappings, and the <code>Chord</code> class\nfor representing and manipulating chords.</p>\n\n<p>Module-level constants:</p>\n\n<ul>\n<li><code>NOTE_NAME_TO_PC</code>: Maps note names (e.g., <code>\"C\"</code>, <code>\"F#\"</code>, <code>\"Bb\"</code>) to pitch classes (0-11)</li>\n<li><code>PC_TO_NOTE_NAME</code>: Maps pitch classes to note names</li>\n<li><code>CHORD_INTERVALS</code>: Maps chord quality names to interval lists (semitones from root)</li>\n<li><code>CHORD_SUFFIX</code>: Maps chord quality names to human-readable suffixes (e.g., <code>\"m\"</code>, <code>\"7\"</code>)</li>\n</ul>\n\n<p>Chord qualities: <code>\"major\"</code>, <code>\"minor\"</code>, <code>\"diminished\"</code>, <code>\"augmented\"</code>, <code>\"dominant_7th\"</code>,\n<code>\"major_7th\"</code>, <code>\"minor_7th\"</code>, <code>\"half_diminished_7th\"</code></p>\n"}, {"fullname": "subsequence.chords.NOTE_NAME_TO_PC", "modulename": "subsequence.chords", "qualname": "NOTE_NAME_TO_PC", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Dict[str, int]", "default_value": "{&#x27;C&#x27;: 0, &#x27;C#&#x27;: 1, &#x27;Db&#x27;: 1, &#x27;D&#x27;: 2, &#x27;D#&#x27;: 3, &#x27;Eb&#x27;: 3, &#x27;E&#x27;: 4, &#x27;F&#x27;: 5, &#x27;F#&#x27;: 6, &#x27;Gb&#x27;: 6, &#x27;G&#x27;: 7, &#x27;G#&#x27;: 8, &#x27;Ab&#x27;: 8, &#x27;A&#x27;: 9, &#x27;A#&#x27;: 10, &#x27;Bb&#x27;: 10, &#x27;B&#x27;: 11}"}, {"fullname": "subsequence.chords.PC_TO_NOTE_NAME", "modulename": "subsequence.chords", "qualname": "PC_TO_NOTE_NAME", "kind": "variable", "doc": "<p></p>\n", "annotation": ": List[str]", "default_value": "[&#x27;C&#x27;, &#x27;C#&#x27;, &#x27;D&#x27;, &#x27;D#&#x27;, &#x27;E&#x27;, &#x27;F&#x27;, &#x27;F#&#x27;, &#x27;G&#x27;, &#x27;G#&#x27;, &#x27;A&#x27;, &#x27;A#&#x27;, &#x27;B&#x27;]"}, {"fullname": "subsequence.chords.CHORD_INTERVALS", "modulename": "subsequence.chords", "qualname": "CHORD_INTERVALS", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Dict[str, List[int]]", "default_value": "{&#x27;major&#x27;: [0, 4, 7], &#x27;minor&#x27;: [0, 3, 7], &#x27;diminished&#x27;: [0, 3, 6], &#x27;augmented&#x27;: [0, 4, 8], &#x27;dominant_7th&#x27;: [0, 4, 7, 10], &#x27;major_7th&#x27;: [0, 4, 7, 11], &#x27;minor_7th&#x27;: [0, 3, 7, 10], &#x27;half_diminished_7th&#x27;: [0, 3, 6, 10]}"}, {"fullname": "subsequence.chords.CHORD_SUFFIX", "modulename": "subsequence.chords", "qualname": "CHORD_SUFFIX", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Dict[str, str]", "default_value": "{&#x27;major&#x27;: &#x27;&#x27;, &#x27;minor&#x27;: &#x27;m&#x27;, &#x27;diminished&#x27;: &#x27;dim&#x27;, &#x27;augmented&#x27;: &#x27;+&#x27;, &#x27;dominant_7th&#x27;: &#x27;7&#x27;, &#x27;major_7th&#x27;: &#x27;maj7&#x27;, &#x27;minor_7th&#x27;: &#x27;m7&#x27;, &#x27;half_diminished_7th&#x27;: &#x27;m7b5&#x27;}"}, {"fullname": "subsequence.chords.Chord", "modulename": "subsequence.chords", "qualname": "Chord", "kind": "class", "doc": "<p>Represents a chord as a root pitch class and quality.</p>\n"}, {"fullname": "subsequence.chords.Chord.__init__", "modulename": "subsequence.chords", "qualname": "Chord.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">root_pc</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">quality</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span>)</span>"}, {"fullname": "subsequence.chords.Chord.root_pc", "modulename": "subsequence.chords", "qualname": "Chord.root_pc", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.chords.Chord.quality", "modulename": "subsequence.chords", "qualname": "Chord.quality", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str"}, {"fullname": "subsequence.chords.Chord.intervals", "modulename": "subsequence.chords", "qualname": "Chord.intervals", "kind": "function", "doc": "<p>Return the chord intervals for this chord quality.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.chords.Chord.tones", "modulename": "subsequence.chords", "qualname": "Chord.tones", "kind": "function", "doc": "<p>Return MIDI note numbers for chord tones starting from a root.</p>\n\n<p>Parameters:\n        root: MIDI root note number (default 60 = middle C)</p>\n\n<p>Returns:\n        List of MIDI note numbers for chord tones</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">chord</span> <span class=\"o\">=</span> <span class=\"n\">Chord</span><span class=\"p\">(</span><span class=\"n\">root_pc</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">quality</span><span class=\"o\">=</span><span class=\"s2\">&quot;major&quot;</span><span class=\"p\">)</span>  <span class=\"c1\"># C major</span>\n<span class=\"n\">tones</span> <span class=\"o\">=</span> <span class=\"n\">chord</span><span class=\"o\">.</span><span class=\"n\">tones</span><span class=\"p\">(</span><span class=\"n\">root</span><span class=\"o\">=</span><span class=\"mi\">60</span><span class=\"p\">)</span>  <span class=\"c1\"># [60, 64, 67] = C, E, G</span>\n\n<span class=\"n\">chord</span> <span class=\"o\">=</span> <span class=\"n\">Chord</span><span class=\"p\">(</span><span class=\"n\">root_pc</span><span class=\"o\">=</span><span class=\"mi\">7</span><span class=\"p\">,</span> <span class=\"n\">quality</span><span class=\"o\">=</span><span class=\"s2\">&quot;minor_7th&quot;</span><span class=\"p\">)</span>  <span class=\"c1\"># G minor 7</span>\n<span class=\"n\">tones</span> <span class=\"o\">=</span> <span class=\"n\">chord</span><span class=\"o\">.</span><span class=\"n\">tones</span><span class=\"p\">(</span><span class=\"n\">root</span><span class=\"o\">=</span><span class=\"mi\">55</span><span class=\"p\">)</span>  <span class=\"c1\"># [55, 58, 62, 65] = G, Bb, D, F</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">root</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">) -> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.chords.Chord.name", "modulename": "subsequence.chords", "qualname": "Chord.name", "kind": "function", "doc": "<p>Return a human-friendly chord name.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">str</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.composition", "modulename": "subsequence.composition", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "subsequence.composition.logger", "modulename": "subsequence.composition", "qualname": "logger", "kind": "variable", "doc": "<p></p>\n", "default_value": "&lt;Logger subsequence.composition (WARNING)&gt;"}, {"fullname": "subsequence.composition.SectionInfo", "modulename": "subsequence.composition", "qualname": "SectionInfo", "kind": "class", "doc": "<p>Immutable snapshot of the current section state.</p>\n\n<p>Patterns read <code>p.section</code> to decide what to play in each section.</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"nd\">@composition</span><span class=\"o\">.</span><span class=\"n\">pattern</span><span class=\"p\">(</span><span class=\"n\">channel</span><span class=\"o\">=</span><span class=\"mi\">9</span><span class=\"p\">,</span> <span class=\"n\">length</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"n\">drum_note_map</span><span class=\"o\">=</span><span class=\"n\">DRUM_NOTE_MAP</span><span class=\"p\">)</span>\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">drums</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">):</span>\n        <span class=\"c1\"># Always play kick</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">hit_steps</span><span class=\"p\">(</span><span class=\"s2\">&quot;kick&quot;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">],</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">127</span><span class=\"p\">)</span>\n\n        <span class=\"c1\"># Only play snare during chorus</span>\n        <span class=\"k\">if</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">section</span> <span class=\"ow\">and</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">section</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;chorus&quot;</span><span class=\"p\">:</span>\n                <span class=\"c1\"># Build intensity through the section</span>\n                <span class=\"n\">vel</span> <span class=\"o\">=</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"mi\">80</span> <span class=\"o\">+</span> <span class=\"mi\">20</span> <span class=\"o\">*</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">section</span><span class=\"o\">.</span><span class=\"n\">progress</span><span class=\"p\">)</span>\n                <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">hit_steps</span><span class=\"p\">(</span><span class=\"s2\">&quot;snare&quot;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">],</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"n\">vel</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n"}, {"fullname": "subsequence.composition.SectionInfo.__init__", "modulename": "subsequence.composition", "qualname": "SectionInfo.__init__", "kind": "function", "doc": "<p>Store the section name, bar position, total bars, and form index.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">name</span><span class=\"p\">:</span> <span class=\"nb\">str</span>, </span><span class=\"param\"><span class=\"n\">bar</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">bars</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">index</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span>)</span>"}, {"fullname": "subsequence.composition.SectionInfo.name", "modulename": "subsequence.composition", "qualname": "SectionInfo.name", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.composition.SectionInfo.bar", "modulename": "subsequence.composition", "qualname": "SectionInfo.bar", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.composition.SectionInfo.bars", "modulename": "subsequence.composition", "qualname": "SectionInfo.bars", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.composition.SectionInfo.index", "modulename": "subsequence.composition", "qualname": "SectionInfo.index", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.composition.SectionInfo.progress", "modulename": "subsequence.composition", "qualname": "SectionInfo.progress", "kind": "variable", "doc": "<p>Return how far through this section we are (0.0 to ~1.0).</p>\n", "annotation": ": float"}, {"fullname": "subsequence.composition.SectionInfo.first_bar", "modulename": "subsequence.composition", "qualname": "SectionInfo.first_bar", "kind": "variable", "doc": "<p>Return True if this is the first bar of the section.</p>\n", "annotation": ": bool"}, {"fullname": "subsequence.composition.SectionInfo.last_bar", "modulename": "subsequence.composition", "qualname": "SectionInfo.last_bar", "kind": "variable", "doc": "<p>Return True if this is the last bar of the section.</p>\n", "annotation": ": bool"}, {"fullname": "subsequence.composition.FormState", "modulename": "subsequence.composition", "qualname": "FormState", "kind": "class", "doc": "<p>Track compositional form as a sequence of named sections with bar durations.</p>\n"}, {"fullname": "subsequence.composition.FormState.__init__", "modulename": "subsequence.composition", "qualname": "FormState.__init__", "kind": "function", "doc": "<p>Initialize from a list, iterator, or dict of weighted section transitions.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">sections</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]],</span> <span class=\"n\">Iterator</span><span class=\"p\">[</span><span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]],</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]]]]]]</span>,</span><span class=\"param\">\t<span class=\"n\">loop</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">start</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">rng</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">Random</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span>)</span>"}, {"fullname": "subsequence.composition.FormState.advance", "modulename": "subsequence.composition", "qualname": "FormState.advance", "kind": "function", "doc": "<p>Advance one bar, transitioning to the next section when needed, returning True if section changed.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">bool</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.composition.FormState.get_section_info", "modulename": "subsequence.composition", "qualname": "FormState.get_section_info", "kind": "function", "doc": "<p>Return current section info, or None if the form is exhausted.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">SectionInfo</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.composition.FormState.total_bars", "modulename": "subsequence.composition", "qualname": "FormState.total_bars", "kind": "variable", "doc": "<p>Return the global bar count since the form started.</p>\n", "annotation": ": int"}, {"fullname": "subsequence.composition.schedule_harmonic_clock", "modulename": "subsequence.composition", "qualname": "schedule_harmonic_clock", "kind": "function", "doc": "<p>Schedule composition-level harmonic changes on a repeating beat interval.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">sequencer</span><span class=\"p\">:</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">sequencer</span><span class=\"o\">.</span><span class=\"n\">Sequencer</span>,</span><span class=\"param\">\t<span class=\"n\">harmonic_state</span><span class=\"p\">:</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">harmonic_state</span><span class=\"o\">.</span><span class=\"n\">HarmonicState</span>,</span><span class=\"param\">\t<span class=\"n\">cycle_beats</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">reschedule_lookahead</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "async def"}, {"fullname": "subsequence.composition.schedule_task", "modulename": "subsequence.composition", "qualname": "schedule_task", "kind": "function", "doc": "<p>Schedule a non-blocking repeating task on the sequencer's beat clock.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">sequencer</span><span class=\"p\">:</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">sequencer</span><span class=\"o\">.</span><span class=\"n\">Sequencer</span>,</span><span class=\"param\">\t<span class=\"n\">fn</span><span class=\"p\">:</span> <span class=\"n\">Callable</span>,</span><span class=\"param\">\t<span class=\"n\">cycle_beats</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">reschedule_lookahead</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "async def"}, {"fullname": "subsequence.composition.schedule_form", "modulename": "subsequence.composition", "qualname": "schedule_form", "kind": "function", "doc": "<p>Schedule the form state to advance each bar.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">sequencer</span><span class=\"p\">:</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">sequencer</span><span class=\"o\">.</span><span class=\"n\">Sequencer</span>,</span><span class=\"param\">\t<span class=\"n\">form_state</span><span class=\"p\">:</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">FormState</span>,</span><span class=\"param\">\t<span class=\"n\">reschedule_lookahead</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "async def"}, {"fullname": "subsequence.composition.schedule_patterns", "modulename": "subsequence.composition", "qualname": "schedule_patterns", "kind": "function", "doc": "<p>Schedule a collection of repeating patterns from a shared start pulse.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">sequencer</span><span class=\"p\">:</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">sequencer</span><span class=\"o\">.</span><span class=\"n\">Sequencer</span>,</span><span class=\"param\">\t<span class=\"n\">patterns</span><span class=\"p\">:</span> <span class=\"n\">Iterable</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">pattern</span><span class=\"o\">.</span><span class=\"n\">Pattern</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">start_pulse</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "async def"}, {"fullname": "subsequence.composition.run_until_stopped", "modulename": "subsequence.composition", "qualname": "run_until_stopped", "kind": "function", "doc": "<p>Run the sequencer until a stop signal is received.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">sequencer</span><span class=\"p\">:</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">sequencer</span><span class=\"o\">.</span><span class=\"n\">Sequencer</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "async def"}, {"fullname": "subsequence.composition.Composition", "modulename": "subsequence.composition", "qualname": "Composition", "kind": "class", "doc": "<p>Top-level composition object that owns the sequencer, harmonic state, and pattern registry.</p>\n"}, {"fullname": "subsequence.composition.Composition.__init__", "modulename": "subsequence.composition", "qualname": "Composition.__init__", "kind": "function", "doc": "<p>Initialize a composition with MIDI device, tempo, and optional key.</p>\n\n<p>Parameters:\n        device: MIDI device name (e.g., <code>\"Device Name:Port 1 16:0\"</code>)\n        bpm: Tempo in beats per minute (default 120)\n        key: Root key name (e.g., <code>\"C\"</code>, <code>\"F#\"</code>, <code>\"Bb\"</code>). Required if using <code>harmony()</code>.\n        seed: Optional random seed. When set, all randomness (chord progressions, form\n                transitions, pattern builder functions) becomes deterministic and repeatable.</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">composition</span> <span class=\"o\">=</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">Composition</span><span class=\"p\">(</span>\n        <span class=\"n\">device</span><span class=\"o\">=</span><span class=\"s2\">&quot;Scarlett 2i4 USB:Scarlett 2i4 USB MIDI 1 16:0&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">bpm</span><span class=\"o\">=</span><span class=\"mi\">125</span><span class=\"p\">,</span>\n        <span class=\"n\">key</span><span class=\"o\">=</span><span class=\"s2\">&quot;E&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">seed</span><span class=\"o\">=</span><span class=\"mi\">42</span>\n<span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">device</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">bpm</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">120</span>,</span><span class=\"param\">\t<span class=\"n\">key</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">seed</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span>)</span>"}, {"fullname": "subsequence.composition.Composition.device", "modulename": "subsequence.composition", "qualname": "Composition.device", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.composition.Composition.bpm", "modulename": "subsequence.composition", "qualname": "Composition.bpm", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.composition.Composition.key", "modulename": "subsequence.composition", "qualname": "Composition.key", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.composition.Composition.data", "modulename": "subsequence.composition", "qualname": "Composition.data", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Dict[str, Any]"}, {"fullname": "subsequence.composition.Composition.harmony", "modulename": "subsequence.composition", "qualname": "Composition.harmony", "kind": "function", "doc": "<p>Configure the harmonic state and chord change cycle for this composition.</p>\n\n<p>Parameters:\n        style: Chord graph style \u2014 <code>\"diatonic_major\"</code>, <code>\"turnaround\"</code>, <code>\"dark_minor\"</code>, or a <code>ChordGraph</code> instance\n        cycle_beats: How often chords change (in beats, default 4)\n        dominant_7th: Include dominant seventh chords (default True)\n        gravity: Key gravity blend 0.0-1.0 (default 1.0). Higher values favor chords closer to the tonic.\n        minor_weight: Weight for minor vs major turnarounds 0.0-1.0 (default 0.0, turnaround graph only)\n        reschedule_lookahead: Reschedule lookahead in beats (default 1)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">harmony</span><span class=\"p\">(</span>\n        <span class=\"n\">style</span><span class=\"o\">=</span><span class=\"s2\">&quot;dark_minor&quot;</span><span class=\"p\">,</span>\n        <span class=\"n\">cycle_beats</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">,</span>\n        <span class=\"n\">dominant_7th</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n        <span class=\"n\">gravity</span><span class=\"o\">=</span><span class=\"mf\">0.8</span>\n<span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">style</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chord_graphs</span><span class=\"o\">.</span><span class=\"n\">ChordGraph</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;functional_major&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">cycle_beats</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>,</span><span class=\"param\">\t<span class=\"n\">dominant_7th</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">gravity</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">minor_weight</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>,</span><span class=\"param\">\t<span class=\"n\">reschedule_lookahead</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.composition.Composition.on_event", "modulename": "subsequence.composition", "qualname": "Composition.on_event", "kind": "function", "doc": "<p>Register a callback for a sequencer event (e.g., \"bar\", \"start\", \"stop\").</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">event_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span>, </span><span class=\"param\"><span class=\"n\">callback</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[</span><span class=\"o\">...</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.composition.Composition.seed", "modulename": "subsequence.composition", "qualname": "Composition.seed", "kind": "function", "doc": "<p>Set a random seed for deterministic, repeatable output.</p>\n\n<p>When set, all randomness \u2014 chord progressions, form transitions, and pattern\nbuilder functions \u2014 produces the same results on every run. Pattern builders\naccess the seeded RNG via <code>p.rng</code>.</p>\n\n<p>Parameters:\n        value: Integer seed value</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">seed</span><span class=\"p\">(</span><span class=\"mi\">42</span><span class=\"p\">)</span>\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">play</span><span class=\"p\">()</span>  <span class=\"c1\"># same output every time</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">value</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.composition.Composition.display", "modulename": "subsequence.composition", "qualname": "Composition.display", "kind": "function", "doc": "<p>Enable or disable the live terminal status line.</p>\n\n<p>When enabled, a persistent status line shows the current bar, section,\nchord, BPM, and key. Log messages scroll above it without disruption.</p>\n\n<p>Parameters:\n        enabled: Turn the display on (True) or off (False)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"p\">()</span>  <span class=\"c1\"># enable before play()</span>\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">play</span><span class=\"p\">()</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">enabled</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.composition.Composition.live", "modulename": "subsequence.composition", "qualname": "Composition.live", "kind": "function", "doc": "<p>Enable the live coding server for runtime interaction.</p>\n\n<p>Starts a TCP eval server on <code>localhost</code> that accepts Python code from\nany source \u2014 the bundled REPL client, an editor plugin, or a raw socket.\nThe server launches when <code>play()</code> is called and stops when playback ends.</p>\n\n<p>Parameters:\n        port: TCP port to listen on (default 5555)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">live</span><span class=\"p\">()</span>      <span class=\"c1\"># enable before play()</span>\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"p\">()</span>\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">play</span><span class=\"p\">()</span>\n</code></pre>\n</div>\n\n\n\n    Then in another terminal::\n\n            python -m subsequence.live_client\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">port</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5555</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.composition.Composition.set_bpm", "modulename": "subsequence.composition", "qualname": "Composition.set_bpm", "kind": "function", "doc": "<p>Change the tempo while the composition is playing.</p>\n\n<p>Parameters:\n        bpm: New tempo in beats per minute</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">set_bpm</span><span class=\"p\">(</span><span class=\"mi\">140</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">bpm</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.composition.Composition.live_info", "modulename": "subsequence.composition", "qualname": "Composition.live_info", "kind": "function", "doc": "<p>Return a snapshot of the running composition state.</p>\n\n<p>Returns a dict with: <code>bpm</code>, <code>key</code>, <code>bar</code>, <code>section</code>, <code>chord</code>,\n<code>patterns</code> (list of dicts), and <code>data</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">info</span> <span class=\"o\">=</span> <span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">live_info</span><span class=\"p\">()</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">info</span><span class=\"p\">[</span><span class=\"s2\">&quot;bpm&quot;</span><span class=\"p\">],</span> <span class=\"n\">info</span><span class=\"p\">[</span><span class=\"s2\">&quot;chord&quot;</span><span class=\"p\">])</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.composition.Composition.mute", "modulename": "subsequence.composition", "qualname": "Composition.mute", "kind": "function", "doc": "<p>Mute a running pattern by name. The pattern keeps scheduling but produces no notes.</p>\n\n<p>Parameters:\n        name: The function name of the pattern to mute</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">mute</span><span class=\"p\">(</span><span class=\"s2\">&quot;hats&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">name</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.composition.Composition.unmute", "modulename": "subsequence.composition", "qualname": "Composition.unmute", "kind": "function", "doc": "<p>Unmute a previously muted pattern.</p>\n\n<p>Parameters:\n        name: The function name of the pattern to unmute</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">unmute</span><span class=\"p\">(</span><span class=\"s2\">&quot;hats&quot;</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">name</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.composition.Composition.schedule", "modulename": "subsequence.composition", "qualname": "Composition.schedule", "kind": "function", "doc": "<p>Register a function to run on a repeating beat-based cycle.</p>\n\n<p>Sync functions automatically run in a thread pool so they never block the MIDI clock.\nAsync functions run directly on the event loop.</p>\n\n<p>Parameters:\n        fn: Function to call on each cycle (sync or async)\n        cycle_beats: How often to call the function (in beats)\n        reschedule_lookahead: Reschedule lookahead in beats (default 1)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"c1\"># Sync function (runs in thread pool automatically)</span>\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">fetch_data</span><span class=\"p\">():</span>\n        <span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s2\">&quot;value&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">some_external_api</span><span class=\"p\">()</span>\n\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">schedule</span><span class=\"p\">(</span><span class=\"n\">fetch_data</span><span class=\"p\">,</span> <span class=\"n\">cycle_beats</span><span class=\"o\">=</span><span class=\"mi\">32</span><span class=\"p\">)</span>  <span class=\"c1\"># Every 8 bars</span>\n\n<span class=\"c1\"># Async function (runs directly)</span>\n<span class=\"k\">async</span> <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">async_task</span><span class=\"p\">():</span>\n        <span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s2\">&quot;value&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">some_async_api</span><span class=\"p\">()</span>\n\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">schedule</span><span class=\"p\">(</span><span class=\"n\">async_task</span><span class=\"p\">,</span> <span class=\"n\">cycle_beats</span><span class=\"o\">=</span><span class=\"mi\">16</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">fn</span><span class=\"p\">:</span> <span class=\"n\">Callable</span>,</span><span class=\"param\">\t<span class=\"n\">cycle_beats</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">reschedule_lookahead</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.composition.Composition.form", "modulename": "subsequence.composition", "qualname": "Composition.form", "kind": "function", "doc": "<p>Define the compositional form as a sequence of sections or a weighted section graph.</p>\n\n<p>Three modes:</p>\n\n<ul>\n<li><strong>Dict</strong> (graph): Weighted section transitions. Format: <code>{section_name: (bars, [(next_section, weight), ...])}</code></li>\n<li><strong>List</strong>: Linear sequence. With <code>loop=True</code>, cycles back to the start.</li>\n<li><strong>Generator</strong>: Yields <code>(name, bars)</code> tuples for stochastic structures.</li>\n</ul>\n\n<p>Parameters:\n        sections: Dict (graph), list, or generator of <code>(name, bars)</code> tuples\n        loop: For lists only \u2014 cycle back to start after the last section (default False)\n        start: For dicts only \u2014 initial section name (default: first dict key)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"c1\"># Graph-based form \u2014 intro plays once, then never returns</span>\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">form</span><span class=\"p\">({</span>\n        <span class=\"s2\">&quot;intro&quot;</span><span class=\"p\">:</span>     <span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;verse&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)]),</span>\n        <span class=\"s2\">&quot;verse&quot;</span><span class=\"p\">:</span>     <span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;chorus&quot;</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s2\">&quot;bridge&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)]),</span>\n        <span class=\"s2\">&quot;chorus&quot;</span><span class=\"p\">:</span>    <span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;breakdown&quot;</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s2\">&quot;verse&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)]),</span>\n        <span class=\"s2\">&quot;bridge&quot;</span><span class=\"p\">:</span>    <span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;chorus&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)]),</span>\n        <span class=\"s2\">&quot;breakdown&quot;</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"p\">[(</span><span class=\"s2\">&quot;verse&quot;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)]),</span>\n<span class=\"p\">},</span> <span class=\"n\">start</span><span class=\"o\">=</span><span class=\"s2\">&quot;intro&quot;</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># List-based form with loop</span>\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">form</span><span class=\"p\">([(</span><span class=\"s2\">&quot;intro&quot;</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s2\">&quot;verse&quot;</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"s2\">&quot;chorus&quot;</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">)],</span> <span class=\"n\">loop</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Generator form</span>\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">my_form</span><span class=\"p\">():</span>\n        <span class=\"k\">yield</span> <span class=\"p\">(</span><span class=\"s2\">&quot;intro&quot;</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">)</span>\n        <span class=\"k\">while</span> <span class=\"kc\">True</span><span class=\"p\">:</span>\n                <span class=\"k\">yield</span> <span class=\"p\">(</span><span class=\"s2\">&quot;verse&quot;</span><span class=\"p\">,</span> <span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">choice</span><span class=\"p\">([</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"mi\">16</span><span class=\"p\">]))</span>\n                <span class=\"k\">yield</span> <span class=\"p\">(</span><span class=\"s2\">&quot;chorus&quot;</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">)</span>\n\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">form</span><span class=\"p\">(</span><span class=\"n\">my_form</span><span class=\"p\">())</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">sections</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]],</span> <span class=\"n\">Iterator</span><span class=\"p\">[</span><span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]],</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]]]]]]</span>,</span><span class=\"param\">\t<span class=\"n\">loop</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">start</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.composition.Composition.pattern", "modulename": "subsequence.composition", "qualname": "Composition.pattern", "kind": "function", "doc": "<p>Decorator that registers a builder function as a repeating pattern.</p>\n\n<p>The builder function receives a <code>PatternBuilder</code> (<code>p</code>) and optionally a <code>chord</code> parameter\n(automatically injected if present and harmony is configured).</p>\n\n<p>Parameters:\n        channel: MIDI channel (0-15)\n        length: Pattern length in beats (default 4)\n        drum_note_map: Optional dict mapping string names to MIDI note numbers (e.g., <code>{\"kick\": 36}</code>)\n        reschedule_lookahead: Reschedule lookahead in beats (default 1)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"nd\">@composition</span><span class=\"o\">.</span><span class=\"n\">pattern</span><span class=\"p\">(</span><span class=\"n\">channel</span><span class=\"o\">=</span><span class=\"mi\">9</span><span class=\"p\">,</span> <span class=\"n\">length</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"n\">drum_note_map</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">&quot;kick&quot;</span><span class=\"p\">:</span> <span class=\"mi\">36</span><span class=\"p\">,</span> <span class=\"s2\">&quot;snare&quot;</span><span class=\"p\">:</span> <span class=\"mi\">38</span><span class=\"p\">})</span>\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">drums</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">):</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">hit_steps</span><span class=\"p\">(</span><span class=\"s2\">&quot;kick&quot;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">],</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">127</span><span class=\"p\">)</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">hit_steps</span><span class=\"p\">(</span><span class=\"s2\">&quot;snare&quot;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">],</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n\n<span class=\"nd\">@composition</span><span class=\"o\">.</span><span class=\"n\">pattern</span><span class=\"p\">(</span><span class=\"n\">channel</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">length</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">)</span>\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">melody</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">,</span> <span class=\"n\">chord</span><span class=\"p\">):</span>\n        <span class=\"c1\"># chord is automatically injected</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">note</span><span class=\"p\">(</span><span class=\"n\">chord</span><span class=\"o\">.</span><span class=\"n\">tones</span><span class=\"p\">(</span><span class=\"n\">root</span><span class=\"o\">=</span><span class=\"mi\">60</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">beat</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">90</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">channel</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">length</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>,</span><span class=\"param\">\t<span class=\"n\">drum_note_map</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">reschedule_lookahead</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mi\">1</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Callable</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.composition.Composition.layer", "modulename": "subsequence.composition", "qualname": "Composition.layer", "kind": "function", "doc": "<p>Register multiple builder functions as a single layered pattern.</p>\n\n<p>Each builder function runs sequentially on the same PatternBuilder, so their notes\nmerge into one pattern. This is useful for composing reusable rhythm or melody\nfragments without creating separate MIDI patterns.</p>\n\n<p>Transforms like <code>dropout()</code> or <code>swing()</code> called in any builder affect the\ncombined result. If you need transforms to apply to only one layer, use separate\npatterns instead.</p>\n\n<p>Parameters:\n        *builder_fns: Two or more builder functions (each takes a PatternBuilder, and optionally a chord)\n        channel: MIDI channel (0-15)\n        length: Pattern length in beats (default 4)\n        drum_note_map: Optional dict mapping string names to MIDI note numbers\n        reschedule_lookahead: Reschedule lookahead in beats (default 1)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">kick</span> <span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">):</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">hit_steps</span><span class=\"p\">(</span><span class=\"s2\">&quot;kick&quot;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">],</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">127</span><span class=\"p\">)</span>\n\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">hats</span> <span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">):</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">hit_steps</span><span class=\"p\">(</span><span class=\"s2\">&quot;hh_closed&quot;</span><span class=\"p\">,</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">16</span><span class=\"p\">)),</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">80</span><span class=\"p\">)</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">velocity_shape</span><span class=\"p\">(</span><span class=\"n\">low</span><span class=\"o\">=</span><span class=\"mi\">60</span><span class=\"p\">,</span> <span class=\"n\">high</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">layer</span><span class=\"p\">(</span><span class=\"n\">kick</span><span class=\"p\">,</span> <span class=\"n\">hats</span><span class=\"p\">,</span> <span class=\"n\">channel</span><span class=\"o\">=</span><span class=\"mi\">9</span><span class=\"p\">,</span> <span class=\"n\">length</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"n\">drum_note_map</span><span class=\"o\">=</span><span class=\"n\">DRUM_NOTE_MAP</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"o\">*</span><span class=\"n\">builder_fns</span><span class=\"p\">:</span> <span class=\"n\">Callable</span>,</span><span class=\"param\">\t<span class=\"n\">channel</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">length</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>,</span><span class=\"param\">\t<span class=\"n\">drum_note_map</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">reschedule_lookahead</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mi\">1</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.composition.Composition.play", "modulename": "subsequence.composition", "qualname": "Composition.play", "kind": "function", "doc": "<p>Start playback, blocking until stopped via Ctrl+C or signal.</p>\n\n<p>Schedules all registered patterns, harmonic state (if configured), form state (if configured),\nand scheduled tasks. Runs the sequencer loop until interrupted.</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;__main__&quot;</span><span class=\"p\">:</span>\n        <span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">play</span><span class=\"p\">()</span>  <span class=\"c1\"># Press Ctrl+C to stop</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.constants", "modulename": "subsequence.constants", "kind": "module", "doc": "<p>Constants for Subsequence.</p>\n\n<p>This package contains three sets of constants:</p>\n\n<ul>\n<li><code>subsequence.constants.pulses</code> \u2014 Pulse-based MIDI timing (internal engine use)</li>\n<li><code>subsequence.constants.durations</code> \u2014 Beat-based durations for pattern lengths and steps</li>\n<li><code>subsequence.constants.gm_drums</code> \u2014 General MIDI Level 1 drum note map</li>\n</ul>\n\n<p>Pulse constants are re-exported here for backwards compatibility, so\n<code>subsequence.constants.MIDI_QUARTER_NOTE</code> continues to work.</p>\n"}, {"fullname": "subsequence.constants.MIDI_THIRTYSECOND_NOTE", "modulename": "subsequence.constants", "qualname": "MIDI_THIRTYSECOND_NOTE", "kind": "variable", "doc": "<p></p>\n", "default_value": "3"}, {"fullname": "subsequence.constants.MIDI_SIXTEENTH_NOTE", "modulename": "subsequence.constants", "qualname": "MIDI_SIXTEENTH_NOTE", "kind": "variable", "doc": "<p></p>\n", "default_value": "6"}, {"fullname": "subsequence.constants.MIDI_EIGHTH_NOTE", "modulename": "subsequence.constants", "qualname": "MIDI_EIGHTH_NOTE", "kind": "variable", "doc": "<p></p>\n", "default_value": "12"}, {"fullname": "subsequence.constants.MIDI_QUARTER_NOTE", "modulename": "subsequence.constants", "qualname": "MIDI_QUARTER_NOTE", "kind": "variable", "doc": "<p></p>\n", "default_value": "24"}, {"fullname": "subsequence.constants.MIDI_HALF_NOTE", "modulename": "subsequence.constants", "qualname": "MIDI_HALF_NOTE", "kind": "variable", "doc": "<p></p>\n", "default_value": "48"}, {"fullname": "subsequence.constants.MIDI_WHOLE_NOTE", "modulename": "subsequence.constants", "qualname": "MIDI_WHOLE_NOTE", "kind": "variable", "doc": "<p></p>\n", "default_value": "96"}, {"fullname": "subsequence.constants.durations", "modulename": "subsequence.constants.durations", "kind": "module", "doc": "<p>Beat-based duration constants for pattern lengths and note timing.</p>\n\n<p>All values are in <strong>beats</strong>, where 1.0 = one quarter note. Use these to express\npattern lengths and step sizes in musical terms instead of raw floats.</p>\n\n<p>Multiply by a count for multi-note durations::</p>\n\n<pre><code>import subsequence.constants.durations as dur\n\n# \"9 sixteenth notes\"\nlength = 9 * dur.SIXTEENTH     # 2.25 beats\n\n# \"21 eighth notes\"\nlength = 21 * dur.EIGHTH       # 10.5 beats\n\n# \"4 bars of quarter notes\"\nlength = 4 * dur.QUARTER       # 4.0 beats\n</code></pre>\n\n<p>Use directly for step sizes and note durations::</p>\n\n<pre><code>p.arpeggio(tones, step=dur.SIXTEENTH, velocity=90)\np.arpeggio(tones, step=dur.DOTTED_SIXTEENTH, velocity=80)\np.fill(60, step=dur.EIGHTH)\n</code></pre>\n"}, {"fullname": "subsequence.constants.durations.THIRTYSECOND", "modulename": "subsequence.constants.durations", "qualname": "THIRTYSECOND", "kind": "variable", "doc": "<p></p>\n", "default_value": "0.125"}, {"fullname": "subsequence.constants.durations.SIXTEENTH", "modulename": "subsequence.constants.durations", "qualname": "SIXTEENTH", "kind": "variable", "doc": "<p></p>\n", "default_value": "0.25"}, {"fullname": "subsequence.constants.durations.DOTTED_SIXTEENTH", "modulename": "subsequence.constants.durations", "qualname": "DOTTED_SIXTEENTH", "kind": "variable", "doc": "<p></p>\n", "default_value": "0.375"}, {"fullname": "subsequence.constants.durations.TRIPLET_EIGHTH", "modulename": "subsequence.constants.durations", "qualname": "TRIPLET_EIGHTH", "kind": "variable", "doc": "<p></p>\n", "default_value": "0.3333333333333333"}, {"fullname": "subsequence.constants.durations.EIGHTH", "modulename": "subsequence.constants.durations", "qualname": "EIGHTH", "kind": "variable", "doc": "<p></p>\n", "default_value": "0.5"}, {"fullname": "subsequence.constants.durations.DOTTED_EIGHTH", "modulename": "subsequence.constants.durations", "qualname": "DOTTED_EIGHTH", "kind": "variable", "doc": "<p></p>\n", "default_value": "0.75"}, {"fullname": "subsequence.constants.durations.TRIPLET_QUARTER", "modulename": "subsequence.constants.durations", "qualname": "TRIPLET_QUARTER", "kind": "variable", "doc": "<p></p>\n", "default_value": "0.6666666666666666"}, {"fullname": "subsequence.constants.durations.QUARTER", "modulename": "subsequence.constants.durations", "qualname": "QUARTER", "kind": "variable", "doc": "<p></p>\n", "default_value": "1.0"}, {"fullname": "subsequence.constants.durations.DOTTED_QUARTER", "modulename": "subsequence.constants.durations", "qualname": "DOTTED_QUARTER", "kind": "variable", "doc": "<p></p>\n", "default_value": "1.5"}, {"fullname": "subsequence.constants.durations.HALF", "modulename": "subsequence.constants.durations", "qualname": "HALF", "kind": "variable", "doc": "<p></p>\n", "default_value": "2.0"}, {"fullname": "subsequence.constants.durations.DOTTED_HALF", "modulename": "subsequence.constants.durations", "qualname": "DOTTED_HALF", "kind": "variable", "doc": "<p></p>\n", "default_value": "3.0"}, {"fullname": "subsequence.constants.durations.WHOLE", "modulename": "subsequence.constants.durations", "qualname": "WHOLE", "kind": "variable", "doc": "<p></p>\n", "default_value": "4.0"}, {"fullname": "subsequence.constants.gm_drums", "modulename": "subsequence.constants.gm_drums", "kind": "module", "doc": "<p>General MIDI Level 1 drum note map.</p>\n\n<p>Standard MIDI percussion assignments for channel 10 (0-indexed channel 9).\nThese note numbers are supported by virtually all GM-compatible instruments,\ndrum machines, and DAWs.</p>\n\n<p>Two ways to use this module:</p>\n\n<ol>\n<li><p><strong>As a drum_note_map</strong> \u2014 pass <code>GM_DRUM_MAP</code> to the <code>drum_note_map</code> parameter\nof <code>@composition.pattern()</code> and use human-readable names like <code>\"kick_1\"</code>\nor <code>\"snare_1\"</code> in your pattern builder calls::</p>\n\n<pre><code>import subsequence.constants.gm_drums\n\n@composition.pattern(channel=9, length=4, drum_note_map=subsequence.constants.gm_drums.GM_DRUM_MAP)\ndef drums (p):\n    p.hit_steps(\"kick_1\", [0, 4, 8, 12], velocity=127)\n</code></pre></li>\n<li><p><strong>As constants</strong> \u2014 reference note numbers directly::</p>\n\n<p>import subsequence.constants.gm_drums</p>\n\n<p>@composition.pattern(channel=9, length=4)\n   def drums (p):\n       p.hit_steps(subsequence.constants.gm_drums.KICK_1, [0, 4, 8, 12], velocity=127)</p></li>\n</ol>\n"}, {"fullname": "subsequence.constants.gm_drums.HIGH_Q", "modulename": "subsequence.constants.gm_drums", "qualname": "HIGH_Q", "kind": "variable", "doc": "<p></p>\n", "default_value": "27"}, {"fullname": "subsequence.constants.gm_drums.SLAP", "modulename": "subsequence.constants.gm_drums", "qualname": "SLAP", "kind": "variable", "doc": "<p></p>\n", "default_value": "28"}, {"fullname": "subsequence.constants.gm_drums.SCRATCH_PUSH", "modulename": "subsequence.constants.gm_drums", "qualname": "SCRATCH_PUSH", "kind": "variable", "doc": "<p></p>\n", "default_value": "29"}, {"fullname": "subsequence.constants.gm_drums.SCRATCH_PULL", "modulename": "subsequence.constants.gm_drums", "qualname": "SCRATCH_PULL", "kind": "variable", "doc": "<p></p>\n", "default_value": "30"}, {"fullname": "subsequence.constants.gm_drums.STICKS", "modulename": "subsequence.constants.gm_drums", "qualname": "STICKS", "kind": "variable", "doc": "<p></p>\n", "default_value": "31"}, {"fullname": "subsequence.constants.gm_drums.SQUARE_CLICK", "modulename": "subsequence.constants.gm_drums", "qualname": "SQUARE_CLICK", "kind": "variable", "doc": "<p></p>\n", "default_value": "32"}, {"fullname": "subsequence.constants.gm_drums.METRONOME_CLICK", "modulename": "subsequence.constants.gm_drums", "qualname": "METRONOME_CLICK", "kind": "variable", "doc": "<p></p>\n", "default_value": "33"}, {"fullname": "subsequence.constants.gm_drums.METRONOME_BELL", "modulename": "subsequence.constants.gm_drums", "qualname": "METRONOME_BELL", "kind": "variable", "doc": "<p></p>\n", "default_value": "34"}, {"fullname": "subsequence.constants.gm_drums.KICK_2", "modulename": "subsequence.constants.gm_drums", "qualname": "KICK_2", "kind": "variable", "doc": "<p></p>\n", "default_value": "35"}, {"fullname": "subsequence.constants.gm_drums.KICK_1", "modulename": "subsequence.constants.gm_drums", "qualname": "KICK_1", "kind": "variable", "doc": "<p></p>\n", "default_value": "36"}, {"fullname": "subsequence.constants.gm_drums.SIDE_STICK", "modulename": "subsequence.constants.gm_drums", "qualname": "SIDE_STICK", "kind": "variable", "doc": "<p></p>\n", "default_value": "37"}, {"fullname": "subsequence.constants.gm_drums.SNARE_1", "modulename": "subsequence.constants.gm_drums", "qualname": "SNARE_1", "kind": "variable", "doc": "<p></p>\n", "default_value": "38"}, {"fullname": "subsequence.constants.gm_drums.HAND_CLAP", "modulename": "subsequence.constants.gm_drums", "qualname": "HAND_CLAP", "kind": "variable", "doc": "<p></p>\n", "default_value": "39"}, {"fullname": "subsequence.constants.gm_drums.SNARE_2", "modulename": "subsequence.constants.gm_drums", "qualname": "SNARE_2", "kind": "variable", "doc": "<p></p>\n", "default_value": "40"}, {"fullname": "subsequence.constants.gm_drums.LOW_FLOOR_TOM", "modulename": "subsequence.constants.gm_drums", "qualname": "LOW_FLOOR_TOM", "kind": "variable", "doc": "<p></p>\n", "default_value": "41"}, {"fullname": "subsequence.constants.gm_drums.HI_HAT_CLOSED", "modulename": "subsequence.constants.gm_drums", "qualname": "HI_HAT_CLOSED", "kind": "variable", "doc": "<p></p>\n", "default_value": "42"}, {"fullname": "subsequence.constants.gm_drums.HIGH_FLOOR_TOM", "modulename": "subsequence.constants.gm_drums", "qualname": "HIGH_FLOOR_TOM", "kind": "variable", "doc": "<p></p>\n", "default_value": "43"}, {"fullname": "subsequence.constants.gm_drums.HI_HAT_PEDAL", "modulename": "subsequence.constants.gm_drums", "qualname": "HI_HAT_PEDAL", "kind": "variable", "doc": "<p></p>\n", "default_value": "44"}, {"fullname": "subsequence.constants.gm_drums.LOW_TOM", "modulename": "subsequence.constants.gm_drums", "qualname": "LOW_TOM", "kind": "variable", "doc": "<p></p>\n", "default_value": "45"}, {"fullname": "subsequence.constants.gm_drums.HI_HAT_OPEN", "modulename": "subsequence.constants.gm_drums", "qualname": "HI_HAT_OPEN", "kind": "variable", "doc": "<p></p>\n", "default_value": "46"}, {"fullname": "subsequence.constants.gm_drums.LOW_MID_TOM", "modulename": "subsequence.constants.gm_drums", "qualname": "LOW_MID_TOM", "kind": "variable", "doc": "<p></p>\n", "default_value": "47"}, {"fullname": "subsequence.constants.gm_drums.HIGH_MID_TOM", "modulename": "subsequence.constants.gm_drums", "qualname": "HIGH_MID_TOM", "kind": "variable", "doc": "<p></p>\n", "default_value": "48"}, {"fullname": "subsequence.constants.gm_drums.CRASH_1", "modulename": "subsequence.constants.gm_drums", "qualname": "CRASH_1", "kind": "variable", "doc": "<p></p>\n", "default_value": "49"}, {"fullname": "subsequence.constants.gm_drums.HIGH_TOM", "modulename": "subsequence.constants.gm_drums", "qualname": "HIGH_TOM", "kind": "variable", "doc": "<p></p>\n", "default_value": "50"}, {"fullname": "subsequence.constants.gm_drums.RIDE_1", "modulename": "subsequence.constants.gm_drums", "qualname": "RIDE_1", "kind": "variable", "doc": "<p></p>\n", "default_value": "51"}, {"fullname": "subsequence.constants.gm_drums.CHINESE_CYMBAL", "modulename": "subsequence.constants.gm_drums", "qualname": "CHINESE_CYMBAL", "kind": "variable", "doc": "<p></p>\n", "default_value": "52"}, {"fullname": "subsequence.constants.gm_drums.RIDE_BELL", "modulename": "subsequence.constants.gm_drums", "qualname": "RIDE_BELL", "kind": "variable", "doc": "<p></p>\n", "default_value": "53"}, {"fullname": "subsequence.constants.gm_drums.TAMBOURINE", "modulename": "subsequence.constants.gm_drums", "qualname": "TAMBOURINE", "kind": "variable", "doc": "<p></p>\n", "default_value": "54"}, {"fullname": "subsequence.constants.gm_drums.SPLASH_CYMBAL", "modulename": "subsequence.constants.gm_drums", "qualname": "SPLASH_CYMBAL", "kind": "variable", "doc": "<p></p>\n", "default_value": "55"}, {"fullname": "subsequence.constants.gm_drums.COWBELL", "modulename": "subsequence.constants.gm_drums", "qualname": "COWBELL", "kind": "variable", "doc": "<p></p>\n", "default_value": "56"}, {"fullname": "subsequence.constants.gm_drums.CRASH_2", "modulename": "subsequence.constants.gm_drums", "qualname": "CRASH_2", "kind": "variable", "doc": "<p></p>\n", "default_value": "57"}, {"fullname": "subsequence.constants.gm_drums.VIBRASLAP", "modulename": "subsequence.constants.gm_drums", "qualname": "VIBRASLAP", "kind": "variable", "doc": "<p></p>\n", "default_value": "58"}, {"fullname": "subsequence.constants.gm_drums.RIDE_2", "modulename": "subsequence.constants.gm_drums", "qualname": "RIDE_2", "kind": "variable", "doc": "<p></p>\n", "default_value": "59"}, {"fullname": "subsequence.constants.gm_drums.HIGH_BONGO", "modulename": "subsequence.constants.gm_drums", "qualname": "HIGH_BONGO", "kind": "variable", "doc": "<p></p>\n", "default_value": "60"}, {"fullname": "subsequence.constants.gm_drums.LOW_BONGO", "modulename": "subsequence.constants.gm_drums", "qualname": "LOW_BONGO", "kind": "variable", "doc": "<p></p>\n", "default_value": "61"}, {"fullname": "subsequence.constants.gm_drums.MUTE_HIGH_CONGA", "modulename": "subsequence.constants.gm_drums", "qualname": "MUTE_HIGH_CONGA", "kind": "variable", "doc": "<p></p>\n", "default_value": "62"}, {"fullname": "subsequence.constants.gm_drums.OPEN_HIGH_CONGA", "modulename": "subsequence.constants.gm_drums", "qualname": "OPEN_HIGH_CONGA", "kind": "variable", "doc": "<p></p>\n", "default_value": "63"}, {"fullname": "subsequence.constants.gm_drums.LOW_CONGA", "modulename": "subsequence.constants.gm_drums", "qualname": "LOW_CONGA", "kind": "variable", "doc": "<p></p>\n", "default_value": "64"}, {"fullname": "subsequence.constants.gm_drums.HIGH_TIMBALE", "modulename": "subsequence.constants.gm_drums", "qualname": "HIGH_TIMBALE", "kind": "variable", "doc": "<p></p>\n", "default_value": "65"}, {"fullname": "subsequence.constants.gm_drums.LOW_TIMBALE", "modulename": "subsequence.constants.gm_drums", "qualname": "LOW_TIMBALE", "kind": "variable", "doc": "<p></p>\n", "default_value": "66"}, {"fullname": "subsequence.constants.gm_drums.HIGH_AGOGO", "modulename": "subsequence.constants.gm_drums", "qualname": "HIGH_AGOGO", "kind": "variable", "doc": "<p></p>\n", "default_value": "67"}, {"fullname": "subsequence.constants.gm_drums.LOW_AGOGO", "modulename": "subsequence.constants.gm_drums", "qualname": "LOW_AGOGO", "kind": "variable", "doc": "<p></p>\n", "default_value": "68"}, {"fullname": "subsequence.constants.gm_drums.CABASA", "modulename": "subsequence.constants.gm_drums", "qualname": "CABASA", "kind": "variable", "doc": "<p></p>\n", "default_value": "69"}, {"fullname": "subsequence.constants.gm_drums.MARACAS", "modulename": "subsequence.constants.gm_drums", "qualname": "MARACAS", "kind": "variable", "doc": "<p></p>\n", "default_value": "70"}, {"fullname": "subsequence.constants.gm_drums.SHORT_WHISTLE", "modulename": "subsequence.constants.gm_drums", "qualname": "SHORT_WHISTLE", "kind": "variable", "doc": "<p></p>\n", "default_value": "71"}, {"fullname": "subsequence.constants.gm_drums.LONG_WHISTLE", "modulename": "subsequence.constants.gm_drums", "qualname": "LONG_WHISTLE", "kind": "variable", "doc": "<p></p>\n", "default_value": "72"}, {"fullname": "subsequence.constants.gm_drums.SHORT_GUIRO", "modulename": "subsequence.constants.gm_drums", "qualname": "SHORT_GUIRO", "kind": "variable", "doc": "<p></p>\n", "default_value": "73"}, {"fullname": "subsequence.constants.gm_drums.LONG_GUIRO", "modulename": "subsequence.constants.gm_drums", "qualname": "LONG_GUIRO", "kind": "variable", "doc": "<p></p>\n", "default_value": "74"}, {"fullname": "subsequence.constants.gm_drums.CLAVES", "modulename": "subsequence.constants.gm_drums", "qualname": "CLAVES", "kind": "variable", "doc": "<p></p>\n", "default_value": "75"}, {"fullname": "subsequence.constants.gm_drums.HIGH_WOODBLOCK", "modulename": "subsequence.constants.gm_drums", "qualname": "HIGH_WOODBLOCK", "kind": "variable", "doc": "<p></p>\n", "default_value": "76"}, {"fullname": "subsequence.constants.gm_drums.LOW_WOODBLOCK", "modulename": "subsequence.constants.gm_drums", "qualname": "LOW_WOODBLOCK", "kind": "variable", "doc": "<p></p>\n", "default_value": "77"}, {"fullname": "subsequence.constants.gm_drums.MUTE_CUICA", "modulename": "subsequence.constants.gm_drums", "qualname": "MUTE_CUICA", "kind": "variable", "doc": "<p></p>\n", "default_value": "78"}, {"fullname": "subsequence.constants.gm_drums.OPEN_CUICA", "modulename": "subsequence.constants.gm_drums", "qualname": "OPEN_CUICA", "kind": "variable", "doc": "<p></p>\n", "default_value": "79"}, {"fullname": "subsequence.constants.gm_drums.MUTE_TRIANGLE", "modulename": "subsequence.constants.gm_drums", "qualname": "MUTE_TRIANGLE", "kind": "variable", "doc": "<p></p>\n", "default_value": "80"}, {"fullname": "subsequence.constants.gm_drums.OPEN_TRIANGLE", "modulename": "subsequence.constants.gm_drums", "qualname": "OPEN_TRIANGLE", "kind": "variable", "doc": "<p></p>\n", "default_value": "81"}, {"fullname": "subsequence.constants.gm_drums.SHAKER", "modulename": "subsequence.constants.gm_drums", "qualname": "SHAKER", "kind": "variable", "doc": "<p></p>\n", "default_value": "82"}, {"fullname": "subsequence.constants.gm_drums.JINGLE_BELL", "modulename": "subsequence.constants.gm_drums", "qualname": "JINGLE_BELL", "kind": "variable", "doc": "<p></p>\n", "default_value": "83"}, {"fullname": "subsequence.constants.gm_drums.BELL_TREE", "modulename": "subsequence.constants.gm_drums", "qualname": "BELL_TREE", "kind": "variable", "doc": "<p></p>\n", "default_value": "84"}, {"fullname": "subsequence.constants.gm_drums.CASTANETS", "modulename": "subsequence.constants.gm_drums", "qualname": "CASTANETS", "kind": "variable", "doc": "<p></p>\n", "default_value": "85"}, {"fullname": "subsequence.constants.gm_drums.MUTE_SURDO", "modulename": "subsequence.constants.gm_drums", "qualname": "MUTE_SURDO", "kind": "variable", "doc": "<p></p>\n", "default_value": "86"}, {"fullname": "subsequence.constants.gm_drums.OPEN_SURDO", "modulename": "subsequence.constants.gm_drums", "qualname": "OPEN_SURDO", "kind": "variable", "doc": "<p></p>\n", "default_value": "87"}, {"fullname": "subsequence.constants.gm_drums.GM_DRUM_MAP", "modulename": "subsequence.constants.gm_drums", "qualname": "GM_DRUM_MAP", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Dict[str, int]", "default_value": "{&#x27;high_q&#x27;: 27, &#x27;slap&#x27;: 28, &#x27;scratch_push&#x27;: 29, &#x27;scratch_pull&#x27;: 30, &#x27;sticks&#x27;: 31, &#x27;square_click&#x27;: 32, &#x27;metronome_click&#x27;: 33, &#x27;metronome_bell&#x27;: 34, &#x27;kick_2&#x27;: 35, &#x27;kick_1&#x27;: 36, &#x27;side_stick&#x27;: 37, &#x27;snare_1&#x27;: 38, &#x27;hand_clap&#x27;: 39, &#x27;snare_2&#x27;: 40, &#x27;low_floor_tom&#x27;: 41, &#x27;hi_hat_closed&#x27;: 42, &#x27;high_floor_tom&#x27;: 43, &#x27;hi_hat_pedal&#x27;: 44, &#x27;low_tom&#x27;: 45, &#x27;hi_hat_open&#x27;: 46, &#x27;low_mid_tom&#x27;: 47, &#x27;high_mid_tom&#x27;: 48, &#x27;crash_1&#x27;: 49, &#x27;high_tom&#x27;: 50, &#x27;ride_1&#x27;: 51, &#x27;chinese_cymbal&#x27;: 52, &#x27;ride_bell&#x27;: 53, &#x27;tambourine&#x27;: 54, &#x27;splash_cymbal&#x27;: 55, &#x27;cowbell&#x27;: 56, &#x27;crash_2&#x27;: 57, &#x27;vibraslap&#x27;: 58, &#x27;ride_2&#x27;: 59, &#x27;high_bongo&#x27;: 60, &#x27;low_bongo&#x27;: 61, &#x27;mute_high_conga&#x27;: 62, &#x27;open_high_conga&#x27;: 63, &#x27;low_conga&#x27;: 64, &#x27;high_timbale&#x27;: 65, &#x27;low_timbale&#x27;: 66, &#x27;high_agogo&#x27;: 67, &#x27;low_agogo&#x27;: 68, &#x27;cabasa&#x27;: 69, &#x27;maracas&#x27;: 70, &#x27;short_whistle&#x27;: 71, &#x27;long_whistle&#x27;: 72, &#x27;short_guiro&#x27;: 73, &#x27;long_guiro&#x27;: 74, &#x27;claves&#x27;: 75, &#x27;high_woodblock&#x27;: 76, &#x27;low_woodblock&#x27;: 77, &#x27;mute_cuica&#x27;: 78, &#x27;open_cuica&#x27;: 79, &#x27;mute_triangle&#x27;: 80, &#x27;open_triangle&#x27;: 81, &#x27;shaker&#x27;: 82, &#x27;jingle_bell&#x27;: 83, &#x27;bell_tree&#x27;: 84, &#x27;castanets&#x27;: 85, &#x27;mute_surdo&#x27;: 86, &#x27;open_surdo&#x27;: 87}"}, {"fullname": "subsequence.constants.pulses", "modulename": "subsequence.constants.pulses", "kind": "module", "doc": "<p>Pulse-based MIDI timing constants.</p>\n\n<p>The sequencer uses <strong>24 pulses per quarter note</strong> (PPQN = 24) as its internal time base.\nThese constants represent the number of pulses for each standard note duration.</p>\n\n<p>These are used internally by the sequencer engine. Pattern builders work in beats\n(see <code>subsequence.constants.durations</code> for beat-based constants).</p>\n"}, {"fullname": "subsequence.constants.pulses.MIDI_THIRTYSECOND_NOTE", "modulename": "subsequence.constants.pulses", "qualname": "MIDI_THIRTYSECOND_NOTE", "kind": "variable", "doc": "<p></p>\n", "default_value": "3"}, {"fullname": "subsequence.constants.pulses.MIDI_SIXTEENTH_NOTE", "modulename": "subsequence.constants.pulses", "qualname": "MIDI_SIXTEENTH_NOTE", "kind": "variable", "doc": "<p></p>\n", "default_value": "6"}, {"fullname": "subsequence.constants.pulses.MIDI_EIGHTH_NOTE", "modulename": "subsequence.constants.pulses", "qualname": "MIDI_EIGHTH_NOTE", "kind": "variable", "doc": "<p></p>\n", "default_value": "12"}, {"fullname": "subsequence.constants.pulses.MIDI_QUARTER_NOTE", "modulename": "subsequence.constants.pulses", "qualname": "MIDI_QUARTER_NOTE", "kind": "variable", "doc": "<p></p>\n", "default_value": "24"}, {"fullname": "subsequence.constants.pulses.MIDI_HALF_NOTE", "modulename": "subsequence.constants.pulses", "qualname": "MIDI_HALF_NOTE", "kind": "variable", "doc": "<p></p>\n", "default_value": "48"}, {"fullname": "subsequence.constants.pulses.MIDI_WHOLE_NOTE", "modulename": "subsequence.constants.pulses", "qualname": "MIDI_WHOLE_NOTE", "kind": "variable", "doc": "<p></p>\n", "default_value": "96"}, {"fullname": "subsequence.display", "modulename": "subsequence.display", "kind": "module", "doc": "<p>Live terminal status line for composition playback.</p>\n\n<p>Provides a persistent status line showing the current bar, section, chord, BPM, and key.\nLog messages scroll above the status line without disruption.</p>\n\n<p>Enable it with a single call before <code>play()</code>:</p>\n\n<div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"p\">()</span>\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">play</span><span class=\"p\">()</span>\n</code></pre>\n</div>\n\n<p>The status line updates every bar and looks like::</p>\n\n<pre><code>    125 BPM  Key: E  Bar: 17  [chorus 1/8]  Chord: Em7\n</code></pre>\n\n<p>Components adapt to what's configured \u2014 the section is omitted if no form is set,\nand the chord is omitted if no harmony is configured.</p>\n"}, {"fullname": "subsequence.display.DisplayLogHandler", "modulename": "subsequence.display", "qualname": "DisplayLogHandler", "kind": "class", "doc": "<p>Logging handler that clears and redraws the status line around log output.</p>\n\n<p>Installed by <code>Display.start()</code> and removed by <code>Display.stop()</code>. Ensures\nlog messages do not overwrite or corrupt the persistent status line.</p>\n", "bases": "logging.Handler"}, {"fullname": "subsequence.display.DisplayLogHandler.__init__", "modulename": "subsequence.display", "qualname": "DisplayLogHandler.__init__", "kind": "function", "doc": "<p>Store reference to the display for clear/redraw calls.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">display</span><span class=\"p\">:</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">Display</span></span>)</span>"}, {"fullname": "subsequence.display.DisplayLogHandler.emit", "modulename": "subsequence.display", "qualname": "DisplayLogHandler.emit", "kind": "function", "doc": "<p>Clear the status line, write the log message, then redraw.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">record</span><span class=\"p\">:</span> <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">LogRecord</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.display.Display", "modulename": "subsequence.display", "qualname": "Display", "kind": "class", "doc": "<p>Live-updating terminal status line showing composition state.</p>\n\n<p>Reads bar, section, chord, BPM, and key from the <code>Composition</code> and renders\na single line to stderr. A custom <code>DisplayLogHandler</code> ensures log messages\nscroll cleanly above the status line.</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"p\">()</span>   <span class=\"c1\"># enable before play()</span>\n<span class=\"n\">composition</span><span class=\"o\">.</span><span class=\"n\">play</span><span class=\"p\">()</span>\n</code></pre>\n</div>\n</code></pre>\n"}, {"fullname": "subsequence.display.Display.__init__", "modulename": "subsequence.display", "qualname": "Display.__init__", "kind": "function", "doc": "<p>Store composition reference for reading playback state.</p>\n\n<p>Parameters:\n        composition: The <code>Composition</code> instance to read state from.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">composition</span><span class=\"p\">:</span> <span class=\"n\">Any</span></span>)</span>"}, {"fullname": "subsequence.display.Display.start", "modulename": "subsequence.display", "qualname": "Display.start", "kind": "function", "doc": "<p>Install the log handler and activate the display.</p>\n\n<p>Saves existing root logger handlers and replaces them with a\n<code>DisplayLogHandler</code> that clears/redraws the status line around\neach log message. Original handlers are restored by <code>stop()</code>.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.display.Display.stop", "modulename": "subsequence.display", "qualname": "Display.stop", "kind": "function", "doc": "<p>Clear the status line and restore original log handlers.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.display.Display.update", "modulename": "subsequence.display", "qualname": "Display.update", "kind": "function", "doc": "<p>Rebuild and redraw the status line for the current bar.</p>\n\n<p>Parameters:\n        bar: The bar number (passed by the <code>\"bar\"</code> event, not used directly \u2014\n                state is read from the composition).</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">bar</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.display.Display.draw", "modulename": "subsequence.display", "qualname": "Display.draw", "kind": "function", "doc": "<p>Write the current status line to the terminal.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.display.Display.clear_line", "modulename": "subsequence.display", "qualname": "Display.clear_line", "kind": "function", "doc": "<p>Erase the status line from the terminal.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.event_emitter", "modulename": "subsequence.event_emitter", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "subsequence.event_emitter.CallbackType", "modulename": "subsequence.event_emitter", "qualname": "CallbackType", "kind": "variable", "doc": "<p></p>\n", "default_value": "typing.Callable[..., typing.Any]"}, {"fullname": "subsequence.event_emitter.EventEmitter", "modulename": "subsequence.event_emitter", "qualname": "EventEmitter", "kind": "class", "doc": "<p>A simple event emitter supporting sync and async callbacks.</p>\n"}, {"fullname": "subsequence.event_emitter.EventEmitter.__init__", "modulename": "subsequence.event_emitter", "qualname": "EventEmitter.__init__", "kind": "function", "doc": "<p>Initialize an empty event registry.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">()</span>"}, {"fullname": "subsequence.event_emitter.EventEmitter.on", "modulename": "subsequence.event_emitter", "qualname": "EventEmitter.on", "kind": "function", "doc": "<p>Register a callback for an event name.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">event_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span>, </span><span class=\"param\"><span class=\"n\">callback</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[</span><span class=\"o\">...</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.event_emitter.EventEmitter.emit_sync", "modulename": "subsequence.event_emitter", "qualname": "EventEmitter.emit_sync", "kind": "function", "doc": "<p>Emit an event and call non-async listeners immediately.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">event_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span>, </span><span class=\"param\"><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">:</span> <span class=\"n\">Any</span>, </span><span class=\"param\"><span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">:</span> <span class=\"n\">Any</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.event_emitter.EventEmitter.emit_async", "modulename": "subsequence.event_emitter", "qualname": "EventEmitter.emit_async", "kind": "function", "doc": "<p>Emit an event and await async listeners.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">event_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span>, </span><span class=\"param\"><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">:</span> <span class=\"n\">Any</span>, </span><span class=\"param\"><span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">:</span> <span class=\"n\">Any</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "async def"}, {"fullname": "subsequence.harmonic_state", "modulename": "subsequence.harmonic_state", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "subsequence.harmonic_state.HarmonicState", "modulename": "subsequence.harmonic_state", "qualname": "HarmonicState", "kind": "class", "doc": "<p>Holds the current chord and key context for the composition.</p>\n"}, {"fullname": "subsequence.harmonic_state.HarmonicState.__init__", "modulename": "subsequence.harmonic_state", "qualname": "HarmonicState.__init__", "kind": "function", "doc": "<p>Initialize the harmonic state using a chord transition graph.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">key_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">graph_style</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chord_graphs</span><span class=\"o\">.</span><span class=\"n\">ChordGraph</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;functional_major&#39;</span>,</span><span class=\"param\">\t<span class=\"n\">include_dominant_7th</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>,</span><span class=\"param\">\t<span class=\"n\">key_gravity_blend</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">minor_turnaround_weight</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>,</span><span class=\"param\">\t<span class=\"n\">rng</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">Random</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span>)</span>"}, {"fullname": "subsequence.harmonic_state.HarmonicState.key_name", "modulename": "subsequence.harmonic_state", "qualname": "HarmonicState.key_name", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.harmonic_state.HarmonicState.key_root_pc", "modulename": "subsequence.harmonic_state", "qualname": "HarmonicState.key_root_pc", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.harmonic_state.HarmonicState.key_gravity_blend", "modulename": "subsequence.harmonic_state", "qualname": "HarmonicState.key_gravity_blend", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.harmonic_state.HarmonicState.rng", "modulename": "subsequence.harmonic_state", "qualname": "HarmonicState.rng", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.harmonic_state.HarmonicState.current_chord", "modulename": "subsequence.harmonic_state", "qualname": "HarmonicState.current_chord", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.harmonic_state.HarmonicState.step", "modulename": "subsequence.harmonic_state", "qualname": "HarmonicState.step", "kind": "function", "doc": "<p>Advance to the next chord based on the transition graph.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.harmonic_state.HarmonicState.get_current_chord", "modulename": "subsequence.harmonic_state", "qualname": "HarmonicState.get_current_chord", "kind": "function", "doc": "<p>Return the current chord.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.harmonic_state.HarmonicState.get_key_name", "modulename": "subsequence.harmonic_state", "qualname": "HarmonicState.get_key_name", "kind": "function", "doc": "<p>Return the current key name.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">str</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.harmonic_state.HarmonicState.get_chord_root_midi", "modulename": "subsequence.harmonic_state", "qualname": "HarmonicState.get_chord_root_midi", "kind": "function", "doc": "<p>Calculate the MIDI root for a chord relative to the key root.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">base_midi</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">chord</span><span class=\"p\">:</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">chords</span><span class=\"o\">.</span><span class=\"n\">Chord</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">int</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.harmony", "modulename": "subsequence.harmony", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "subsequence.harmony.logger", "modulename": "subsequence.harmony", "qualname": "logger", "kind": "variable", "doc": "<p></p>\n", "default_value": "&lt;Logger subsequence.harmony (WARNING)&gt;"}, {"fullname": "subsequence.harmony.ChordPattern", "modulename": "subsequence.harmony", "qualname": "ChordPattern", "kind": "class", "doc": "<p>A repeating chord pattern that follows the shared harmonic state.</p>\n", "bases": "subsequence.pattern.Pattern"}, {"fullname": "subsequence.harmony.ChordPattern.__init__", "modulename": "subsequence.harmony", "qualname": "ChordPattern.__init__", "kind": "function", "doc": "<p>Initialize a chord pattern driven by composition-level harmony.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">harmonic_state</span><span class=\"p\">:</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">harmonic_state</span><span class=\"o\">.</span><span class=\"n\">HarmonicState</span>,</span><span class=\"param\">\t<span class=\"n\">length</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>,</span><span class=\"param\">\t<span class=\"n\">root_midi</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">52</span>,</span><span class=\"param\">\t<span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">90</span>,</span><span class=\"param\">\t<span class=\"n\">reschedule_lookahead</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>,</span><span class=\"param\">\t<span class=\"n\">channel</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span>)</span>"}, {"fullname": "subsequence.harmony.ChordPattern.harmonic_state", "modulename": "subsequence.harmony", "qualname": "ChordPattern.harmonic_state", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.harmony.ChordPattern.key_root_midi", "modulename": "subsequence.harmony", "qualname": "ChordPattern.key_root_midi", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.harmony.ChordPattern.velocity", "modulename": "subsequence.harmony", "qualname": "ChordPattern.velocity", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.harmony.ChordPattern.current_chord", "modulename": "subsequence.harmony", "qualname": "ChordPattern.current_chord", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.harmony.ChordPattern.on_reschedule", "modulename": "subsequence.harmony", "qualname": "ChordPattern.on_reschedule", "kind": "function", "doc": "<p>Rebuild the chord pattern from the shared harmonic state.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.intervals", "modulename": "subsequence.intervals", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "subsequence.intervals.INTERVAL_DEFINITIONS", "modulename": "subsequence.intervals", "qualname": "INTERVAL_DEFINITIONS", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Dict[str, List[int]]", "default_value": "{&#x27;augmented&#x27;: [0, 3, 4, 7, 8, 11], &#x27;augmented_7th&#x27;: [0, 4, 8, 10], &#x27;augmented_triad&#x27;: [0, 4, 8], &#x27;blues_scale&#x27;: [0, 3, 5, 6, 7, 10], &#x27;chromatic&#x27;: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], &#x27;diminished_7th&#x27;: [0, 3, 6, 9], &#x27;diminished_triad&#x27;: [0, 3, 6], &#x27;dominant_7th&#x27;: [0, 4, 7, 10], &#x27;dominant_9th&#x27;: [0, 4, 7, 10, 14], &#x27;dorian_mode&#x27;: [0, 2, 3, 5, 7, 9, 10], &#x27;double_harmonic&#x27;: [0, 1, 4, 5, 7, 8, 11], &#x27;enigmatic&#x27;: [0, 1, 4, 6, 8, 10, 11], &#x27;half_diminished_7th&#x27;: [0, 3, 6, 10], &#x27;harmonic_minor&#x27;: [0, 2, 3, 5, 7, 8, 11], &#x27;hungarian_minor&#x27;: [0, 2, 3, 6, 7, 8, 11], &#x27;locrian_mode&#x27;: [0, 1, 3, 5, 6, 8, 10], &#x27;lydian&#x27;: [0, 2, 4, 6, 7, 9, 11], &#x27;lydian_dominant&#x27;: [0, 2, 4, 6, 7, 9, 10], &#x27;major_6th&#x27;: [0, 4, 7, 9], &#x27;major_7th&#x27;: [0, 4, 7, 11], &#x27;major_9th&#x27;: [0, 4, 7, 11, 14], &#x27;major_ionian&#x27;: [0, 2, 4, 5, 7, 9, 11], &#x27;major_pentatonic&#x27;: [0, 2, 4, 7, 9], &#x27;major_triad&#x27;: [0, 4, 7], &#x27;melodic_minor&#x27;: [0, 2, 3, 5, 7, 9, 11], &#x27;minor_6th&#x27;: [0, 3, 7, 9], &#x27;minor_7th&#x27;: [0, 3, 7, 10], &#x27;minor_9th&#x27;: [0, 3, 7, 10, 14], &#x27;minor_blues&#x27;: [0, 3, 5, 6, 7, 10], &#x27;minor_major_7th&#x27;: [0, 3, 7, 11], &#x27;minor_pentatonic&#x27;: [0, 3, 5, 7, 10], &#x27;minor_triad&#x27;: [0, 3, 7], &#x27;mixolydian&#x27;: [0, 2, 4, 5, 7, 9, 10], &#x27;natural_minor&#x27;: [0, 2, 3, 5, 7, 8, 10], &#x27;neapolitan_major&#x27;: [0, 1, 3, 5, 7, 9, 11], &#x27;phrygian_dominant&#x27;: [0, 1, 4, 5, 7, 8, 10], &#x27;phrygian_mode&#x27;: [0, 1, 3, 5, 7, 8, 10], &#x27;power_chord&#x27;: [0, 7], &#x27;superlocrian&#x27;: [0, 1, 3, 4, 6, 8, 10], &#x27;sus2&#x27;: [0, 2, 7], &#x27;sus4&#x27;: [0, 5, 7], &#x27;whole_tone&#x27;: [0, 2, 4, 6, 8, 10], &#x27;root&#x27;: [0], &#x27;fifth&#x27;: [0, 7], &#x27;minor_3rd&#x27;: [0, 3], &#x27;tritone&#x27;: [0, 6]}"}, {"fullname": "subsequence.intervals.MAJOR_DIATONIC_TRIADS", "modulename": "subsequence.intervals", "qualname": "MAJOR_DIATONIC_TRIADS", "kind": "variable", "doc": "<p></p>\n", "annotation": ": List[List[int]]", "default_value": "[[0, 4, 7], [0, 3, 7], [0, 3, 7], [0, 4, 7], [0, 4, 7], [0, 3, 7], [0, 3, 6]]"}, {"fullname": "subsequence.intervals.MAJOR_DIATONIC_SEVENTHS", "modulename": "subsequence.intervals", "qualname": "MAJOR_DIATONIC_SEVENTHS", "kind": "variable", "doc": "<p></p>\n", "annotation": ": List[List[int]]", "default_value": "[[0, 4, 7, 11], [0, 3, 7, 10], [0, 3, 7, 10], [0, 4, 7, 11], [0, 4, 7, 10], [0, 3, 7, 10], [0, 3, 6, 10]]"}, {"fullname": "subsequence.intervals.MINOR_DIATONIC_TRIADS", "modulename": "subsequence.intervals", "qualname": "MINOR_DIATONIC_TRIADS", "kind": "variable", "doc": "<p></p>\n", "annotation": ": List[List[int]]", "default_value": "[[0, 3, 7], [0, 3, 6], [0, 4, 7], [0, 3, 7], [0, 3, 7], [0, 4, 7], [0, 4, 7]]"}, {"fullname": "subsequence.intervals.get_intervals", "modulename": "subsequence.intervals", "qualname": "get_intervals", "kind": "function", "doc": "<p>Return a named interval list from the registry.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">name</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">) -> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.intervals.get_diatonic_intervals", "modulename": "subsequence.intervals", "qualname": "get_diatonic_intervals", "kind": "function", "doc": "<p>Construct diatonic chords from a scale.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">scale_notes</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">intervals</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">mode</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;scale&#39;</span></span><span class=\"return-annotation\">) -> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.live_client", "modulename": "subsequence.live_client", "kind": "module", "doc": "<p>Interactive REPL client for live coding a running Subsequence composition.</p>\n\n<p>Usage::</p>\n\n<pre><code>python -m subsequence.live_client\npython -m subsequence.live_client --port 5555\n</code></pre>\n\n<p>The client connects to a live server started by <code>composition.live()</code> and\nprovides an interactive Python prompt. Multi-line blocks are supported \u2014\ntype a line ending with <code>:</code> and the client will wait for more input.</p>\n\n<p>Press Ctrl+C to cancel the current input. Press Ctrl+D to quit.</p>\n"}, {"fullname": "subsequence.live_client.SENTINEL", "modulename": "subsequence.live_client", "qualname": "SENTINEL", "kind": "variable", "doc": "<p></p>\n", "default_value": "b&#x27;\\x04&#x27;"}, {"fullname": "subsequence.live_client.LiveClient", "modulename": "subsequence.live_client", "qualname": "LiveClient", "kind": "class", "doc": "<p>TCP client that sends code to a running Subsequence live server.</p>\n"}, {"fullname": "subsequence.live_client.LiveClient.__init__", "modulename": "subsequence.live_client", "qualname": "LiveClient.__init__", "kind": "function", "doc": "<p>Initialize with no connection.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">()</span>"}, {"fullname": "subsequence.live_client.LiveClient.connect", "modulename": "subsequence.live_client", "qualname": "LiveClient.connect", "kind": "function", "doc": "<p>Connect to the live server.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">host</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;127.0.0.1&#39;</span>, </span><span class=\"param\"><span class=\"n\">port</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5555</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.live_client.LiveClient.send", "modulename": "subsequence.live_client", "qualname": "LiveClient.send", "kind": "function", "doc": "<p>Send code to the server and return the response.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">code</span><span class=\"p\">:</span> <span class=\"nb\">str</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">str</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.live_client.LiveClient.close", "modulename": "subsequence.live_client", "qualname": "LiveClient.close", "kind": "function", "doc": "<p>Close the connection.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.live_client.main", "modulename": "subsequence.live_client", "qualname": "main", "kind": "function", "doc": "<p>Run the interactive REPL loop.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.live_server", "modulename": "subsequence.live_server", "kind": "module", "doc": "<p>TCP eval server for live coding a running composition.</p>\n\n<p>Start the server by calling <code>composition.live()</code> before <code>composition.play()</code>.\nThe server listens on a TCP port (default 5555) and accepts Python code from any\nsource \u2014 the bundled REPL client, an editor plugin, or a raw socket connection.</p>\n\n<p>Protocol\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nMessages are delimited by <code>\\x04</code> (ASCII EOT). The server reads until it\nreceives this sentinel, evaluates the code, and sends the result (or error\ntraceback) followed by <code>\\x04</code>.</p>\n\n<p>Security note: the server binds to <code>localhost</code> only. It executes arbitrary\nPython in the composition's process \u2014 this is intentional for live coding, but\nthe port should not be exposed to untrusted networks.</p>\n"}, {"fullname": "subsequence.live_server.logger", "modulename": "subsequence.live_server", "qualname": "logger", "kind": "variable", "doc": "<p></p>\n", "default_value": "&lt;Logger subsequence.live_server (WARNING)&gt;"}, {"fullname": "subsequence.live_server.SENTINEL", "modulename": "subsequence.live_server", "qualname": "SENTINEL", "kind": "variable", "doc": "<p></p>\n", "default_value": "b&#x27;\\x04&#x27;"}, {"fullname": "subsequence.live_server.LiveServer", "modulename": "subsequence.live_server", "qualname": "LiveServer", "kind": "class", "doc": "<p>Async TCP server that evaluates Python code inside a running composition.</p>\n"}, {"fullname": "subsequence.live_server.LiveServer.__init__", "modulename": "subsequence.live_server", "qualname": "LiveServer.__init__", "kind": "function", "doc": "<p>Store a reference to the composition and the port to listen on.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">composition</span><span class=\"p\">:</span> <span class=\"n\">Any</span>, </span><span class=\"param\"><span class=\"n\">port</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">5555</span></span>)</span>"}, {"fullname": "subsequence.live_server.LiveServer.start", "modulename": "subsequence.live_server", "qualname": "LiveServer.start", "kind": "function", "doc": "<p>Start listening for connections on localhost.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "async def"}, {"fullname": "subsequence.live_server.LiveServer.stop", "modulename": "subsequence.live_server", "qualname": "LiveServer.stop", "kind": "function", "doc": "<p>Close the server and wait for it to shut down.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "async def"}, {"fullname": "subsequence.markov_chain", "modulename": "subsequence.markov_chain", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "subsequence.markov_chain.choose_weighted", "modulename": "subsequence.markov_chain", "qualname": "choose_weighted", "kind": "function", "doc": "<p>Choose one item from a list of weighted options.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">options</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"o\">~</span><span class=\"n\">StateType</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]]</span>, </span><span class=\"param\"><span class=\"n\">rng</span><span class=\"p\">:</span> <span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">Random</span></span><span class=\"return-annotation\">) -> <span class=\"o\">~</span><span class=\"n\">StateType</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.markov_chain.MarkovChain", "modulename": "subsequence.markov_chain", "qualname": "MarkovChain", "kind": "class", "doc": "<p>A simple weighted Markov chain over arbitrary states (kept for future use).</p>\n", "bases": "typing.Generic[~StateType]"}, {"fullname": "subsequence.markov_chain.MarkovChain.__init__", "modulename": "subsequence.markov_chain", "qualname": "MarkovChain.__init__", "kind": "function", "doc": "<p>Initialize the chain with transitions and an optional initial state.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">transitions</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"o\">~</span><span class=\"n\">StateType</span><span class=\"p\">,</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"o\">~</span><span class=\"n\">StateType</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]]]</span>,</span><span class=\"param\">\t<span class=\"n\">initial_state</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"o\">~</span><span class=\"n\">StateType</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">rng</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">Random</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span>)</span>"}, {"fullname": "subsequence.markov_chain.MarkovChain.transitions", "modulename": "subsequence.markov_chain", "qualname": "MarkovChain.transitions", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.markov_chain.MarkovChain.rng", "modulename": "subsequence.markov_chain", "qualname": "MarkovChain.rng", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.markov_chain.MarkovChain.state", "modulename": "subsequence.markov_chain", "qualname": "MarkovChain.state", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.markov_chain.MarkovChain.step", "modulename": "subsequence.markov_chain", "qualname": "MarkovChain.step", "kind": "function", "doc": "<p>Advance to the next state and return it.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"o\">~</span><span class=\"n\">StateType</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.markov_chain.MarkovChain.get_state", "modulename": "subsequence.markov_chain", "qualname": "MarkovChain.get_state", "kind": "function", "doc": "<p>Return the current state.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"o\">~</span><span class=\"n\">StateType</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.motif", "modulename": "subsequence.motif", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "subsequence.motif.MotifNote", "modulename": "subsequence.motif", "qualname": "MotifNote", "kind": "class", "doc": "<p>Represents a motif note stored by pulse position.</p>\n"}, {"fullname": "subsequence.motif.MotifNote.__init__", "modulename": "subsequence.motif", "qualname": "MotifNote.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">pitch</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">duration</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span>)</span>"}, {"fullname": "subsequence.motif.MotifNote.pitch", "modulename": "subsequence.motif", "qualname": "MotifNote.pitch", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.motif.MotifNote.velocity", "modulename": "subsequence.motif", "qualname": "MotifNote.velocity", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.motif.MotifNote.duration", "modulename": "subsequence.motif", "qualname": "MotifNote.duration", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.motif.Motif", "modulename": "subsequence.motif", "qualname": "Motif", "kind": "class", "doc": "<p>A lightweight container for note events that can be rendered into a Pattern.</p>\n"}, {"fullname": "subsequence.motif.Motif.__init__", "modulename": "subsequence.motif", "qualname": "Motif.__init__", "kind": "function", "doc": "<p>Initialize an empty motif.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">pulses_per_beat</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">24</span></span>)</span>"}, {"fullname": "subsequence.motif.Motif.pulses_per_beat", "modulename": "subsequence.motif", "qualname": "Motif.pulses_per_beat", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.motif.Motif.notes", "modulename": "subsequence.motif", "qualname": "Motif.notes", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Dict[int, List[subsequence.motif.MotifNote]]"}, {"fullname": "subsequence.motif.Motif.add_note_pulses", "modulename": "subsequence.motif", "qualname": "Motif.add_note_pulses", "kind": "function", "doc": "<p>Add a note at a pulse position.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">position</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">pitch</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">duration</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.motif.Motif.add_note_beats", "modulename": "subsequence.motif", "qualname": "Motif.add_note_beats", "kind": "function", "doc": "<p>Add a note at a beat position.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">beat_position</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">pitch</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">duration_beats</span><span class=\"p\">:</span> <span class=\"nb\">float</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.motif.Motif.add_chord_beats", "modulename": "subsequence.motif", "qualname": "Motif.add_chord_beats", "kind": "function", "doc": "<p>Add a chord by placing multiple notes at the same beat.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">beat_position</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">pitches</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">duration_beats</span><span class=\"p\">:</span> <span class=\"nb\">float</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.motif.Motif.add_motif", "modulename": "subsequence.motif", "qualname": "Motif.add_motif", "kind": "function", "doc": "<p>Add another motif's notes with a pulse offset.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">motif</span><span class=\"p\">:</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">motif</span><span class=\"o\">.</span><span class=\"n\">Motif</span>, </span><span class=\"param\"><span class=\"n\">offset_pulses</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.motif.Motif.get_length_pulses", "modulename": "subsequence.motif", "qualname": "Motif.get_length_pulses", "kind": "function", "doc": "<p>Return the motif length in pulses based on the latest note end.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">int</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.motif.Motif.get_length_beats", "modulename": "subsequence.motif", "qualname": "Motif.get_length_beats", "kind": "function", "doc": "<p>Return the motif length in whole beats.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"nb\">int</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.motif.Motif.to_pattern", "modulename": "subsequence.motif", "qualname": "Motif.to_pattern", "kind": "function", "doc": "<p>Render the motif into a Pattern.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">channel</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">length_beats</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">reschedule_lookahead</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">1</span></span><span class=\"return-annotation\">) -> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">pattern</span><span class=\"o\">.</span><span class=\"n\">Pattern</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern", "modulename": "subsequence.pattern", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "subsequence.pattern.Note", "modulename": "subsequence.pattern", "qualname": "Note", "kind": "class", "doc": "<p>Represents a single MIDI note.</p>\n"}, {"fullname": "subsequence.pattern.Note.__init__", "modulename": "subsequence.pattern", "qualname": "Note.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">pitch</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">duration</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">channel</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span>)</span>"}, {"fullname": "subsequence.pattern.Note.pitch", "modulename": "subsequence.pattern", "qualname": "Note.pitch", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.pattern.Note.velocity", "modulename": "subsequence.pattern", "qualname": "Note.velocity", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.pattern.Note.duration", "modulename": "subsequence.pattern", "qualname": "Note.duration", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.pattern.Note.channel", "modulename": "subsequence.pattern", "qualname": "Note.channel", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.pattern.Step", "modulename": "subsequence.pattern", "qualname": "Step", "kind": "class", "doc": "<p>Represents a collection of notes at a single point in time.</p>\n"}, {"fullname": "subsequence.pattern.Step.__init__", "modulename": "subsequence.pattern", "qualname": "Step.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">notes</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">pattern</span><span class=\"o\">.</span><span class=\"n\">Note</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"o\">&lt;</span><span class=\"n\">factory</span><span class=\"o\">&gt;</span></span>)</span>"}, {"fullname": "subsequence.pattern.Step.notes", "modulename": "subsequence.pattern", "qualname": "Step.notes", "kind": "variable", "doc": "<p></p>\n", "annotation": ": List[subsequence.pattern.Note]"}, {"fullname": "subsequence.pattern.Pattern", "modulename": "subsequence.pattern", "qualname": "Pattern", "kind": "class", "doc": "<p>Allows us to define and manipulate music pattern objects.</p>\n"}, {"fullname": "subsequence.pattern.Pattern.__init__", "modulename": "subsequence.pattern", "qualname": "Pattern.__init__", "kind": "function", "doc": "<p>Initialize a new pattern with MIDI channel, length in beats, and reschedule lookahead.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">channel</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">length</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mi\">16</span>, </span><span class=\"param\"><span class=\"n\">reschedule_lookahead</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mi\">1</span></span>)</span>"}, {"fullname": "subsequence.pattern.Pattern.channel", "modulename": "subsequence.pattern", "qualname": "Pattern.channel", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.pattern.Pattern.length", "modulename": "subsequence.pattern", "qualname": "Pattern.length", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.pattern.Pattern.reschedule_lookahead", "modulename": "subsequence.pattern", "qualname": "Pattern.reschedule_lookahead", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.pattern.Pattern.steps", "modulename": "subsequence.pattern", "qualname": "Pattern.steps", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Dict[int, subsequence.pattern.Step]"}, {"fullname": "subsequence.pattern.Pattern.add_note", "modulename": "subsequence.pattern", "qualname": "Pattern.add_note", "kind": "function", "doc": "<p>Add a note to the pattern at a specific pulse position.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">position</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">pitch</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">duration</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern.Pattern.add_sequence", "modulename": "subsequence.pattern", "qualname": "Pattern.add_sequence", "kind": "function", "doc": "<p>Add a sequence of notes to the pattern.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">sequence</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">step_duration</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">pitch</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]]</span> <span class=\"o\">=</span> <span class=\"mi\">100</span>,</span><span class=\"param\">\t<span class=\"n\">note_duration</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">6</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern.Pattern.add_note_beats", "modulename": "subsequence.pattern", "qualname": "Pattern.add_note_beats", "kind": "function", "doc": "<p>Add a note to the pattern at a beat position.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">beat_position</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">pitch</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">duration_beats</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">pulses_per_beat</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">24</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern.Pattern.add_sequence_beats", "modulename": "subsequence.pattern", "qualname": "Pattern.add_sequence_beats", "kind": "function", "doc": "<p>Add a sequence of notes using beat durations.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">sequence</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">step_beats</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">pitch</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]]</span> <span class=\"o\">=</span> <span class=\"mi\">100</span>,</span><span class=\"param\">\t<span class=\"n\">note_duration_beats</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.25</span>,</span><span class=\"param\">\t<span class=\"n\">pulses_per_beat</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">24</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern.Pattern.add_arpeggio_beats", "modulename": "subsequence.pattern", "qualname": "Pattern.add_arpeggio_beats", "kind": "function", "doc": "<p>Add an arpeggio that cycles through pitches at regular intervals.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">pitches</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">step_beats</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">100</span>,</span><span class=\"param\">\t<span class=\"n\">duration_beats</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">pulses_per_beat</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">24</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern.Pattern.apply_swing", "modulename": "subsequence.pattern", "qualname": "Pattern.apply_swing", "kind": "function", "doc": "<p>Apply swing timing to the pattern steps.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">swing_ratio</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">2.0</span>, </span><span class=\"param\"><span class=\"n\">pulses_per_quarter</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">24</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern.Pattern.on_reschedule", "modulename": "subsequence.pattern", "qualname": "Pattern.on_reschedule", "kind": "function", "doc": "<p>Hook called immediately before the pattern is rescheduled.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern_builder", "modulename": "subsequence.pattern_builder", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "subsequence.pattern_builder.PatternBuilder", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder", "kind": "class", "doc": "<p>Provides high-level musical methods for building pattern content.</p>\n"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.__init__", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.__init__", "kind": "function", "doc": "<p>Initialize the builder with pattern context, cycle count, and optional section info.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">pattern</span><span class=\"p\">:</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">pattern</span><span class=\"o\">.</span><span class=\"n\">Pattern</span>,</span><span class=\"param\">\t<span class=\"n\">cycle</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">drum_note_map</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">section</span><span class=\"p\">:</span> <span class=\"n\">Any</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>,</span><span class=\"param\">\t<span class=\"n\">bar</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>,</span><span class=\"param\">\t<span class=\"n\">rng</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">Random</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span>)</span>"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.cycle", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.cycle", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.section", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.section", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.bar", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.bar", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.rng", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.rng", "kind": "variable", "doc": "<p></p>\n", "annotation": ": random.Random"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.set_length", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.set_length", "kind": "function", "doc": "<p>Change the pattern length for the current and future cycles.</p>\n\n<p>The new length takes effect immediately for any notes placed after this call,\nand the sequencer will use the new length when scheduling the next cycle.</p>\n\n<p>Parameters:\n        length: New pattern length in beats</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"nd\">@composition</span><span class=\"o\">.</span><span class=\"n\">pattern</span><span class=\"p\">(</span><span class=\"n\">channel</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">length</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">)</span>\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">melody</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">section</span> <span class=\"ow\">and</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">section</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;breakdown&quot;</span><span class=\"p\">:</span>\n                <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">set_length</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">)</span>  <span class=\"c1\"># half-time during breakdown</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">fill</span><span class=\"p\">(</span><span class=\"mi\">60</span><span class=\"p\">,</span> <span class=\"n\">step</span><span class=\"o\">=</span><span class=\"mf\">0.5</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">length</span><span class=\"p\">:</span> <span class=\"nb\">float</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.note", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.note", "kind": "function", "doc": "<p>Place a single note at a beat position.</p>\n\n<p>Negative beat values wrap to the end of the pattern (e.g., <code>-1</code> = last beat).</p>\n\n<p>Parameters:\n        pitch: MIDI note number or drum note map key (e.g., <code>\"kick\"</code>)\n        beat: Beat position (0.0 = start of pattern)\n        velocity: MIDI velocity 0-127 (default 100)\n        duration: Note duration in beats (default 0.25)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"c1\"># Place a note at beat 0</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">note</span><span class=\"p\">(</span><span class=\"n\">pitch</span><span class=\"o\">=</span><span class=\"mi\">60</span><span class=\"p\">,</span> <span class=\"n\">beat</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">90</span><span class=\"p\">,</span> <span class=\"n\">duration</span><span class=\"o\">=</span><span class=\"mf\">0.5</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Place a drum hit using the drum note map</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">note</span><span class=\"p\">(</span><span class=\"n\">pitch</span><span class=\"o\">=</span><span class=\"s2\">&quot;kick&quot;</span><span class=\"p\">,</span> <span class=\"n\">beat</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">127</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">pitch</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">beat</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">100</span>,</span><span class=\"param\">\t<span class=\"n\">duration</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.25</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.hit", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.hit", "kind": "function", "doc": "<p>Place short hits at one or more beat positions.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">pitch</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">beats</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">100</span>,</span><span class=\"param\">\t<span class=\"n\">duration</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.1</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.hit_steps", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.hit_steps", "kind": "function", "doc": "<p>Place short hits at specific step positions on a subdivided grid.</p>\n\n<p>The default <code>step_count=16</code> creates a sixteenth-note grid over a 4-beat pattern,\nwhere step 0 = beat 0, step 4 = beat 1, step 8 = beat 2, step 12 = beat 3.</p>\n\n<p>Parameters:\n        pitch: MIDI note number or drum note map key (e.g., <code>\"kick\"</code>)\n        steps: List of step indices (e.g., <code>[0, 4, 8, 12]</code> for quarter notes on a 16-step grid)\n        velocity: MIDI velocity 0-127 (default 100)\n        duration: Note duration in beats (default 0.1)\n        step_count: Grid subdivisions per pattern (default 16 = sixteenth notes)\n        probability: Chance of each hit sounding, 0.0-1.0 (default 1.0 = all hits)\n        rng: Random number generator (default: <code>self.rng</code>)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"c1\"># Four-on-the-floor kick on a 16-step grid</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">hit_steps</span><span class=\"p\">(</span><span class=\"s2\">&quot;kick&quot;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">],</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">127</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Hi-hats with 80% probability per step</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">hit_steps</span><span class=\"p\">(</span><span class=\"s2\">&quot;hh&quot;</span><span class=\"p\">,</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">16</span><span class=\"p\">)),</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">80</span><span class=\"p\">,</span> <span class=\"n\">probability</span><span class=\"o\">=</span><span class=\"mf\">0.8</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">pitch</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">steps</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">100</span>,</span><span class=\"param\">\t<span class=\"n\">duration</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.1</span>,</span><span class=\"param\">\t<span class=\"n\">step_count</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">16</span>,</span><span class=\"param\">\t<span class=\"n\">probability</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span>,</span><span class=\"param\">\t<span class=\"n\">rng</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">Random</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.fill", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.fill", "kind": "function", "doc": "<p>Fill the pattern with evenly-spaced notes at the given step interval.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">pitch</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">step</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">100</span>,</span><span class=\"param\">\t<span class=\"n\">duration</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.25</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.arpeggio", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.arpeggio", "kind": "function", "doc": "<p>Cycle through a list of pitches at regular intervals to create an arpeggio.</p>\n\n<p>Parameters:\n        pitches: List of MIDI note numbers or drum note map keys\n        step: Interval between notes in beats (default 0.25 = sixteenth notes)\n        velocity: MIDI velocity 0-127 (default 100)\n        duration: Note duration in beats (default: same as step)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"c1\"># Sixteenth-note arpeggio from chord tones</span>\n<span class=\"n\">tones</span> <span class=\"o\">=</span> <span class=\"n\">chord</span><span class=\"o\">.</span><span class=\"n\">tones</span><span class=\"p\">(</span><span class=\"n\">root</span><span class=\"o\">=</span><span class=\"mi\">60</span><span class=\"p\">)</span>  <span class=\"c1\"># [60, 64, 67] for C major</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">arpeggio</span><span class=\"p\">(</span><span class=\"n\">tones</span><span class=\"p\">,</span> <span class=\"n\">step</span><span class=\"o\">=</span><span class=\"mf\">0.25</span><span class=\"p\">,</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">90</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Slower eighth-note arpeggio</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">arpeggio</span><span class=\"p\">([</span><span class=\"mi\">60</span><span class=\"p\">,</span> <span class=\"mi\">64</span><span class=\"p\">,</span> <span class=\"mi\">67</span><span class=\"p\">,</span> <span class=\"mi\">72</span><span class=\"p\">],</span> <span class=\"n\">step</span><span class=\"o\">=</span><span class=\"mf\">0.5</span><span class=\"p\">,</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">pitches</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]]</span>,</span><span class=\"param\">\t<span class=\"n\">step</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.25</span>,</span><span class=\"param\">\t<span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">100</span>,</span><span class=\"param\">\t<span class=\"n\">duration</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.chord", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.chord", "kind": "function", "doc": "<p>Place a chord at beat 0 using the chord's intervals.</p>\n\n<p>Parameters:\n        chord_obj: A <code>Chord</code> object (automatically injected if the pattern accepts a <code>chord</code> parameter)\n        root: MIDI root note number\n        velocity: MIDI velocity 0-127 (default 90)\n        sustain: If True, duration spans the entire pattern length (default False)\n        duration: Note duration in beats (default 1.0, ignored if sustain=True)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"nd\">@composition</span><span class=\"o\">.</span><span class=\"n\">pattern</span><span class=\"p\">(</span><span class=\"n\">channel</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">length</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">)</span>\n<span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">chords</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">,</span> <span class=\"n\">chord</span><span class=\"p\">):</span>\n        <span class=\"c1\"># chord is automatically injected</span>\n        <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">chord</span><span class=\"p\">(</span><span class=\"n\">chord</span><span class=\"p\">,</span> <span class=\"n\">root</span><span class=\"o\">=</span><span class=\"mi\">60</span><span class=\"p\">,</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">90</span><span class=\"p\">,</span> <span class=\"n\">sustain</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">chord_obj</span><span class=\"p\">:</span> <span class=\"n\">Any</span>,</span><span class=\"param\">\t<span class=\"n\">root</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">90</span>,</span><span class=\"param\">\t<span class=\"n\">sustain</span><span class=\"p\">:</span> <span class=\"nb\">bool</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>,</span><span class=\"param\">\t<span class=\"n\">duration</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">1.0</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.swing", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.swing", "kind": "function", "doc": "<p>Apply swing timing to all placed notes.</p>\n\n<p>Delays every other note by a ratio. A ratio of 2.0 creates classic \"triplet swing\"\nwhere off-beats land on the third triplet.</p>\n\n<p>Parameters:\n        ratio: Swing ratio (default 2.0). Higher values = more swing.</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"c1\"># Place eighth notes, then apply triplet swing</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">hit_steps</span><span class=\"p\">(</span><span class=\"s2\">&quot;hh&quot;</span><span class=\"p\">,</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"p\">)),</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">80</span><span class=\"p\">,</span> <span class=\"n\">step_count</span><span class=\"o\">=</span><span class=\"mi\">8</span><span class=\"p\">)</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">swing</span><span class=\"p\">(</span><span class=\"n\">ratio</span><span class=\"o\">=</span><span class=\"mf\">2.0</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">ratio</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">2.0</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.euclidean", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.euclidean", "kind": "function", "doc": "<p>Generate a Euclidean rhythm and place hits at the resulting beat positions.</p>\n\n<p>Euclidean rhythms distribute <code>pulses</code> evenly across the pattern length. The algorithm\nis based on Bjorklund's algorithm and creates rhythms used in traditional music worldwide.</p>\n\n<p>Parameters:\n        pitch: MIDI note number or drum note map key\n        pulses: Number of evenly-distributed hits\n        velocity: MIDI velocity 0-127 (default 100)\n        duration: Note duration in beats (default 0.1)\n        dropout: Probability 0.0-1.0 of randomly removing hits (default 0.0)\n        rng: Random number generator for dropout (default: <code>self.rng</code>)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"c1\"># Classic Euclidean(16,3) rhythm (common in African music)</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">euclidean</span><span class=\"p\">(</span><span class=\"n\">pitch</span><span class=\"o\">=</span><span class=\"mi\">36</span><span class=\"p\">,</span> <span class=\"n\">pulses</span><span class=\"o\">=</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">127</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Euclidean(16,5) with some randomness</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">euclidean</span><span class=\"p\">(</span><span class=\"n\">pitch</span><span class=\"o\">=</span><span class=\"mi\">38</span><span class=\"p\">,</span> <span class=\"n\">pulses</span><span class=\"o\">=</span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"n\">dropout</span><span class=\"o\">=</span><span class=\"mf\">0.1</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">pitch</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">pulses</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">100</span>,</span><span class=\"param\">\t<span class=\"n\">duration</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.1</span>,</span><span class=\"param\">\t<span class=\"n\">dropout</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>,</span><span class=\"param\">\t<span class=\"n\">rng</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">Random</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.bresenham", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.bresenham", "kind": "function", "doc": "<p>Generate a Bresenham rhythm and place hits at the resulting beat positions.</p>\n\n<p>Parameters:\n        pitch: MIDI note number or drum note map key\n        pulses: Number of evenly-distributed hits\n        velocity: MIDI velocity 0-127 (default 100)\n        duration: Note duration in beats (default 0.1)\n        dropout: Probability 0.0-1.0 of randomly removing hits (default 0.0)\n        rng: Random number generator for dropout (default: <code>self.rng</code>)</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">pitch</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">pulses</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">100</span>,</span><span class=\"param\">\t<span class=\"n\">duration</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.1</span>,</span><span class=\"param\">\t<span class=\"n\">dropout</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>,</span><span class=\"param\">\t<span class=\"n\">rng</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">Random</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.dropout", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.dropout", "kind": "function", "doc": "<p>Randomly remove notes from the pattern based on a probability.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">probability</span><span class=\"p\">:</span> <span class=\"nb\">float</span>, </span><span class=\"param\"><span class=\"n\">rng</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">Random</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.velocity_shape", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.velocity_shape", "kind": "function", "doc": "<p>Apply a van der Corput velocity distribution to existing notes.</p>\n\n<p>Creates organic-sounding velocity variation using the van der Corput low-discrepancy sequence.\nThis distributes velocities more evenly than pure randomness.</p>\n\n<p>Parameters:\n        low: Minimum velocity (default 60)\n        high: Maximum velocity (default 120)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"c1\"># Place hi-hats, then shape velocities for a natural feel</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">hit_steps</span><span class=\"p\">(</span><span class=\"s2\">&quot;hh&quot;</span><span class=\"p\">,</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">16</span><span class=\"p\">)),</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">80</span><span class=\"p\">)</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">velocity_shape</span><span class=\"p\">(</span><span class=\"n\">low</span><span class=\"o\">=</span><span class=\"mi\">60</span><span class=\"p\">,</span> <span class=\"n\">high</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">low</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">60</span>, </span><span class=\"param\"><span class=\"n\">high</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">120</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.reverse", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.reverse", "kind": "function", "doc": "<p>Mirror all note positions in time, reversing the pattern.</p>\n\n<p>A note at the start of the pattern moves to the end, and vice versa.\nNotes at the same position stay together.</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">hit_steps</span><span class=\"p\">(</span><span class=\"s2\">&quot;kick&quot;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">],</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">127</span><span class=\"p\">)</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">reverse</span><span class=\"p\">()</span>  <span class=\"c1\"># kick now hits on steps 12, 8, 4, 0 (from the listener&#39;s perspective)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.double_time", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.double_time", "kind": "function", "doc": "<p>Compress all notes into the first half of the pattern, doubling the speed.</p>\n\n<p>Positions and durations are halved. The second half of the pattern is left empty,\ncreating space for variation or layering.</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">fill</span><span class=\"p\">(</span><span class=\"mi\">60</span><span class=\"p\">,</span> <span class=\"n\">step</span><span class=\"o\">=</span><span class=\"mf\">0.5</span><span class=\"p\">)</span>       <span class=\"c1\"># 8 eighth notes across 4 beats</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">double_time</span><span class=\"p\">()</span>             <span class=\"c1\"># now 8 sixteenth notes in the first 2 beats</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.half_time", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.half_time", "kind": "function", "doc": "<p>Expand all notes to double their time position, halving the speed.</p>\n\n<p>Positions and durations are doubled. Notes whose doubled position would exceed\nthe pattern length are dropped.</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">fill</span><span class=\"p\">(</span><span class=\"mi\">60</span><span class=\"p\">,</span> <span class=\"n\">step</span><span class=\"o\">=</span><span class=\"mf\">0.25</span><span class=\"p\">)</span>      <span class=\"c1\"># 16 sixteenth notes across 4 beats</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">half_time</span><span class=\"p\">()</span>               <span class=\"c1\"># now 8 eighth notes in the first 4 beats, rest dropped</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.shift", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.shift", "kind": "function", "doc": "<p>Rotate the pattern by a number of grid steps, wrapping around.</p>\n\n<p>Uses the same grid concept as <code>hit_steps()</code> \u2014 the default 16-step grid\ndivides the pattern into sixteenth notes. Positive values shift right\n(later in time), negative values shift left (earlier).</p>\n\n<p>Parameters:\n        steps: Number of grid steps to shift (positive = right, negative = left)\n        step_count: Grid subdivisions per pattern (default 16, matching <code>hit_steps()</code>)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"c1\"># Shift a snare pattern by 4 steps (one beat) for a backbeat</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">euclidean</span><span class=\"p\">(</span><span class=\"s2\">&quot;snare&quot;</span><span class=\"p\">,</span> <span class=\"n\">pulses</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">)</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">shift</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">steps</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">step_count</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">16</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.transpose", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.transpose", "kind": "function", "doc": "<p>Shift all note pitches up or down by the given number of semitones.</p>\n\n<p>Pitches are clamped to the MIDI range 0-127.</p>\n\n<p>Parameters:\n        semitones: Number of semitones to shift (positive = up, negative = down)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">arpeggio</span><span class=\"p\">([</span><span class=\"mi\">60</span><span class=\"p\">,</span> <span class=\"mi\">64</span><span class=\"p\">,</span> <span class=\"mi\">67</span><span class=\"p\">],</span> <span class=\"n\">step</span><span class=\"o\">=</span><span class=\"mf\">0.25</span><span class=\"p\">)</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">transpose</span><span class=\"p\">(</span><span class=\"mi\">12</span><span class=\"p\">)</span>   <span class=\"c1\"># up one octave</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">semitones</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.invert", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.invert", "kind": "function", "doc": "<p>Invert all pitches around a pivot note, mirroring intervals.</p>\n\n<p>A note 3 semitones above the pivot becomes 3 semitones below, and vice versa.\nPitches are clamped to the MIDI range 0-127.</p>\n\n<p>Parameters:\n        pivot: MIDI note number to invert around (default 60 = middle C)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">arpeggio</span><span class=\"p\">([</span><span class=\"mi\">60</span><span class=\"p\">,</span> <span class=\"mi\">64</span><span class=\"p\">,</span> <span class=\"mi\">67</span><span class=\"p\">],</span> <span class=\"n\">step</span><span class=\"o\">=</span><span class=\"mf\">0.25</span><span class=\"p\">)</span>   <span class=\"c1\"># C E G</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">invert</span><span class=\"p\">(</span><span class=\"n\">pivot</span><span class=\"o\">=</span><span class=\"mi\">64</span><span class=\"p\">)</span>                      <span class=\"c1\"># becomes 68 64 61 (Ab E Db)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">pivot</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">60</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.pattern_builder.PatternBuilder.every", "modulename": "subsequence.pattern_builder", "qualname": "PatternBuilder.every", "kind": "function", "doc": "<p>Apply a transform function every Nth cycle.</p>\n\n<p>A convenience wrapper around <code>p.cycle</code>. Fires on cycle 0 (the first cycle)\nand every N cycles after that.</p>\n\n<p>Parameters:\n        n: Apply the transform when cycle is a multiple of n\n        fn: A function that receives this PatternBuilder and calls transform methods on it</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">hit_steps</span><span class=\"p\">(</span><span class=\"s2\">&quot;kick&quot;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">],</span> <span class=\"n\">velocity</span><span class=\"o\">=</span><span class=\"mi\">127</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Reverse the pattern every 4th cycle</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">every</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"k\">lambda</span> <span class=\"n\">p</span><span class=\"p\">:</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">reverse</span><span class=\"p\">())</span>\n\n<span class=\"c1\"># Combine transforms in a single lambda</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">every</span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"k\">lambda</span> <span class=\"n\">p</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">double_time</span><span class=\"p\">(),</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">transpose</span><span class=\"p\">(</span><span class=\"mi\">12</span><span class=\"p\">)))</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">fn</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">pattern_builder</span><span class=\"o\">.</span><span class=\"n\">PatternBuilder</span><span class=\"p\">],</span> <span class=\"n\">NoneType</span><span class=\"p\">]</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.sequence_utils", "modulename": "subsequence.sequence_utils", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "subsequence.sequence_utils.generate_euclidean_sequence", "modulename": "subsequence.sequence_utils", "qualname": "generate_euclidean_sequence", "kind": "function", "doc": "<p>Generate a Euclidean rhythm using Bjorklund's algorithm.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">steps</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">pulses</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">) -> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.sequence_utils.generate_bresenham_sequence", "modulename": "subsequence.sequence_utils", "qualname": "generate_bresenham_sequence", "kind": "function", "doc": "<p>Generate a rhythm using Bresenham's line algorithm.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">steps</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">pulses</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">) -> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.sequence_utils.generate_bresenham_sequence_weighted", "modulename": "subsequence.sequence_utils", "qualname": "generate_bresenham_sequence_weighted", "kind": "function", "doc": "<p>Generate a sequence that distributes weighted indices across steps.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">steps</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">weights</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">]</span></span><span class=\"return-annotation\">) -> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.sequence_utils.generate_van_der_corput_sequence", "modulename": "subsequence.sequence_utils", "qualname": "generate_van_der_corput_sequence", "kind": "function", "doc": "<p>Generate a sequence of n numbers using the van der Corput sequence.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">base</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">2</span></span><span class=\"return-annotation\">) -> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.sequence_utils.sequence_to_indices", "modulename": "subsequence.sequence_utils", "qualname": "sequence_to_indices", "kind": "function", "doc": "<p>Extract step indices where hits occur in a binary sequence.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">sequence</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span></span><span class=\"return-annotation\">) -> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.sequence_utils.roll", "modulename": "subsequence.sequence_utils", "qualname": "roll", "kind": "function", "doc": "<p>Circularly shift step indices by the specified amount.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">indices</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span>, </span><span class=\"param\"><span class=\"n\">shift</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">length</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">) -> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.sequence_utils.generate_legato_durations", "modulename": "subsequence.sequence_utils", "qualname": "generate_legato_durations", "kind": "function", "doc": "<p>Convert a hit list into per-step legato durations.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">hits</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span></span><span class=\"return-annotation\">) -> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.sequence_utils.weighted_choice", "modulename": "subsequence.sequence_utils", "qualname": "weighted_choice", "kind": "function", "doc": "<p>Pick one item from a list of (value, weight) pairs.</p>\n\n<p>Weights are relative \u2014 they don't need to sum to 1.0. Higher weight means\nhigher probability of selection.</p>\n\n<p>Parameters:\n        options: List of <code>(value, weight)</code> tuples\n        rng: Random number generator instance</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">density</span> <span class=\"o\">=</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">sequence_utils</span><span class=\"o\">.</span><span class=\"n\">weighted_choice</span><span class=\"p\">([</span>\n        <span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mf\">0.5</span><span class=\"p\">),</span>   <span class=\"c1\"># 3 hits: 50%</span>\n        <span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mf\">0.3</span><span class=\"p\">),</span>   <span class=\"c1\"># 5 hits: 30%</span>\n        <span class=\"p\">(</span><span class=\"mi\">7</span><span class=\"p\">,</span> <span class=\"mf\">0.2</span><span class=\"p\">),</span>   <span class=\"c1\"># 7 hits: 20%</span>\n<span class=\"p\">],</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">rng</span><span class=\"p\">)</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">euclidean</span><span class=\"p\">(</span><span class=\"s2\">&quot;snare&quot;</span><span class=\"p\">,</span> <span class=\"n\">pulses</span><span class=\"o\">=</span><span class=\"n\">density</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">options</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"o\">~</span><span class=\"n\">T</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">]]</span>, </span><span class=\"param\"><span class=\"n\">rng</span><span class=\"p\">:</span> <span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">Random</span></span><span class=\"return-annotation\">) -> <span class=\"o\">~</span><span class=\"n\">T</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.sequence_utils.shuffled_choices", "modulename": "subsequence.sequence_utils", "qualname": "shuffled_choices", "kind": "function", "doc": "<p>Choose N items from a pool with no immediate repetition.</p>\n\n<p>Within each pass through the pool, every item appears before any repeats.\nAcross reshuffles, the last item of one pass is never the first of the next.\nSimilar to Max/MSP's <code>urn</code> object.</p>\n\n<p>Parameters:\n        pool: Items to choose from\n        n: Number of items to return\n        rng: Random number generator instance</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"c1\"># 16 velocity values with no adjacent repeats</span>\n<span class=\"n\">vels</span> <span class=\"o\">=</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">sequence_utils</span><span class=\"o\">.</span><span class=\"n\">shuffled_choices</span><span class=\"p\">([</span><span class=\"mi\">70</span><span class=\"p\">,</span> <span class=\"mi\">85</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"mi\">110</span><span class=\"p\">],</span> <span class=\"mi\">16</span><span class=\"p\">,</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">rng</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">pool</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"o\">~</span><span class=\"n\">T</span><span class=\"p\">]</span>, </span><span class=\"param\"><span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span>, </span><span class=\"param\"><span class=\"n\">rng</span><span class=\"p\">:</span> <span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">Random</span></span><span class=\"return-annotation\">) -> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"o\">~</span><span class=\"n\">T</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.sequence_utils.random_walk", "modulename": "subsequence.sequence_utils", "qualname": "random_walk", "kind": "function", "doc": "<p>Generate values that drift by small steps within a range.</p>\n\n<p>Each value moves up or down by at most <code>step</code> from the previous,\nclamped to <code>[low, high]</code>. Similar to Max/MSP's <code>drunk</code> object.</p>\n\n<p>Parameters:\n        n: Number of values to generate\n        low: Minimum value (inclusive)\n        high: Maximum value (inclusive)\n        step: Maximum change per step\n        rng: Random number generator instance\n        start: Starting value (default: midpoint of range)</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"c1\"># Wandering velocity for 16 hi-hat steps</span>\n<span class=\"n\">walk</span> <span class=\"o\">=</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">sequence_utils</span><span class=\"o\">.</span><span class=\"n\">random_walk</span><span class=\"p\">(</span><span class=\"mi\">16</span><span class=\"p\">,</span> <span class=\"n\">low</span><span class=\"o\">=</span><span class=\"mi\">50</span><span class=\"p\">,</span> <span class=\"n\">high</span><span class=\"o\">=</span><span class=\"mi\">110</span><span class=\"p\">,</span> <span class=\"n\">step</span><span class=\"o\">=</span><span class=\"mi\">15</span><span class=\"p\">,</span> <span class=\"n\">rng</span><span class=\"o\">=</span><span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">rng</span><span class=\"p\">)</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">n</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">low</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">high</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">step</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">rng</span><span class=\"p\">:</span> <span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">Random</span>,</span><span class=\"param\">\t<span class=\"n\">start</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.sequence_utils.probability_gate", "modulename": "subsequence.sequence_utils", "qualname": "probability_gate", "kind": "function", "doc": "<p>Filter a binary sequence by probability.</p>\n\n<p>Each active step (value &gt; 0) is kept with the given probability.\nInactive steps (value == 0) are never promoted.</p>\n\n<p>Parameters:\n        sequence: Binary sequence (0s and 1s)\n        probability: Chance of keeping each hit (0.0\u20131.0). A single float applies\n                uniformly; a list assigns per-step probability.\n        rng: Random number generator instance</p>\n\n<p>Example:</p>\n\n<pre><code>    <div class=\"pdoc-code codehilite\">\n<pre><span></span><code><span class=\"n\">seq</span> <span class=\"o\">=</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">sequence_utils</span><span class=\"o\">.</span><span class=\"n\">generate_euclidean_sequence</span><span class=\"p\">(</span><span class=\"mi\">16</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">)</span>\n<span class=\"n\">gated</span> <span class=\"o\">=</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">sequence_utils</span><span class=\"o\">.</span><span class=\"n\">probability_gate</span><span class=\"p\">(</span><span class=\"n\">seq</span><span class=\"p\">,</span> <span class=\"mf\">0.7</span><span class=\"p\">,</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">rng</span><span class=\"p\">)</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">hit_steps</span><span class=\"p\">(</span><span class=\"s2\">&quot;hh&quot;</span><span class=\"p\">,</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">sequence_utils</span><span class=\"o\">.</span><span class=\"n\">sequence_to_indices</span><span class=\"p\">(</span><span class=\"n\">gated</span><span class=\"p\">))</span>\n</code></pre>\n</div>\n</code></pre>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">sequence</span><span class=\"p\">:</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">probability</span><span class=\"p\">:</span> <span class=\"n\">Union</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">float</span><span class=\"p\">]]</span>,</span><span class=\"param\">\t<span class=\"n\">rng</span><span class=\"p\">:</span> <span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">Random</span></span><span class=\"return-annotation\">) -> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.sequencer", "modulename": "subsequence.sequencer", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "subsequence.sequencer.logger", "modulename": "subsequence.sequencer", "qualname": "logger", "kind": "variable", "doc": "<p></p>\n", "default_value": "&lt;Logger subsequence.sequencer (WARNING)&gt;"}, {"fullname": "subsequence.sequencer.PatternLike", "modulename": "subsequence.sequencer", "qualname": "PatternLike", "kind": "class", "doc": "<p>Protocol for pattern objects that can be scheduled.</p>\n", "bases": "typing.Protocol"}, {"fullname": "subsequence.sequencer.PatternLike.__init__", "modulename": "subsequence.sequencer", "qualname": "PatternLike.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"o\">*</span><span class=\"n\">args</span>, </span><span class=\"param\"><span class=\"o\">**</span><span class=\"n\">kwargs</span></span>)</span>"}, {"fullname": "subsequence.sequencer.PatternLike.channel", "modulename": "subsequence.sequencer", "qualname": "PatternLike.channel", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.sequencer.PatternLike.length", "modulename": "subsequence.sequencer", "qualname": "PatternLike.length", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.sequencer.PatternLike.reschedule_lookahead", "modulename": "subsequence.sequencer", "qualname": "PatternLike.reschedule_lookahead", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.sequencer.PatternLike.steps", "modulename": "subsequence.sequencer", "qualname": "PatternLike.steps", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Dict[int, Any]"}, {"fullname": "subsequence.sequencer.PatternLike.on_reschedule", "modulename": "subsequence.sequencer", "qualname": "PatternLike.on_reschedule", "kind": "function", "doc": "<p>Hook called immediately before the pattern is rescheduled.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.sequencer.MidiEvent", "modulename": "subsequence.sequencer", "qualname": "MidiEvent", "kind": "class", "doc": "<p>Represents a MIDI event scheduled at a specific pulse.</p>\n"}, {"fullname": "subsequence.sequencer.MidiEvent.__init__", "modulename": "subsequence.sequencer", "qualname": "MidiEvent.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">pulse</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">message_type</span><span class=\"p\">:</span> <span class=\"nb\">str</span>,</span><span class=\"param\">\t<span class=\"n\">channel</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">note</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">velocity</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span>)</span>"}, {"fullname": "subsequence.sequencer.MidiEvent.pulse", "modulename": "subsequence.sequencer", "qualname": "MidiEvent.pulse", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.sequencer.MidiEvent.message_type", "modulename": "subsequence.sequencer", "qualname": "MidiEvent.message_type", "kind": "variable", "doc": "<p></p>\n", "annotation": ": str"}, {"fullname": "subsequence.sequencer.MidiEvent.channel", "modulename": "subsequence.sequencer", "qualname": "MidiEvent.channel", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.sequencer.MidiEvent.note", "modulename": "subsequence.sequencer", "qualname": "MidiEvent.note", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.sequencer.MidiEvent.velocity", "modulename": "subsequence.sequencer", "qualname": "MidiEvent.velocity", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.sequencer.ScheduledPattern", "modulename": "subsequence.sequencer", "qualname": "ScheduledPattern", "kind": "class", "doc": "<p>Tracks a repeating pattern and its scheduling metadata.</p>\n"}, {"fullname": "subsequence.sequencer.ScheduledPattern.__init__", "modulename": "subsequence.sequencer", "qualname": "ScheduledPattern.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">pattern</span><span class=\"p\">:</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">sequencer</span><span class=\"o\">.</span><span class=\"n\">PatternLike</span>,</span><span class=\"param\">\t<span class=\"n\">cycle_start_pulse</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">length_pulses</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">lookahead_pulses</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">next_reschedule_pulse</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span>)</span>"}, {"fullname": "subsequence.sequencer.ScheduledPattern.pattern", "modulename": "subsequence.sequencer", "qualname": "ScheduledPattern.pattern", "kind": "variable", "doc": "<p></p>\n", "annotation": ": subsequence.sequencer.PatternLike"}, {"fullname": "subsequence.sequencer.ScheduledPattern.cycle_start_pulse", "modulename": "subsequence.sequencer", "qualname": "ScheduledPattern.cycle_start_pulse", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.sequencer.ScheduledPattern.length_pulses", "modulename": "subsequence.sequencer", "qualname": "ScheduledPattern.length_pulses", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.sequencer.ScheduledPattern.lookahead_pulses", "modulename": "subsequence.sequencer", "qualname": "ScheduledPattern.lookahead_pulses", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.sequencer.ScheduledPattern.next_reschedule_pulse", "modulename": "subsequence.sequencer", "qualname": "ScheduledPattern.next_reschedule_pulse", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.sequencer.ScheduledCallback", "modulename": "subsequence.sequencer", "qualname": "ScheduledCallback", "kind": "class", "doc": "<p>Tracks a repeating callback and its scheduling metadata.</p>\n"}, {"fullname": "subsequence.sequencer.ScheduledCallback.__init__", "modulename": "subsequence.sequencer", "qualname": "ScheduledCallback.__init__", "kind": "function", "doc": "<p></p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">callback</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"n\">Any</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">cycle_start_pulse</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">interval_pulses</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">lookahead_pulses</span><span class=\"p\">:</span> <span class=\"nb\">int</span>,</span><span class=\"param\">\t<span class=\"n\">next_fire_pulse</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span>)</span>"}, {"fullname": "subsequence.sequencer.ScheduledCallback.callback", "modulename": "subsequence.sequencer", "qualname": "ScheduledCallback.callback", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Callable[[int], Any]"}, {"fullname": "subsequence.sequencer.ScheduledCallback.cycle_start_pulse", "modulename": "subsequence.sequencer", "qualname": "ScheduledCallback.cycle_start_pulse", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.sequencer.ScheduledCallback.interval_pulses", "modulename": "subsequence.sequencer", "qualname": "ScheduledCallback.interval_pulses", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.sequencer.ScheduledCallback.lookahead_pulses", "modulename": "subsequence.sequencer", "qualname": "ScheduledCallback.lookahead_pulses", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.sequencer.ScheduledCallback.next_fire_pulse", "modulename": "subsequence.sequencer", "qualname": "ScheduledCallback.next_fire_pulse", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.sequencer.Sequencer", "modulename": "subsequence.sequencer", "qualname": "Sequencer", "kind": "class", "doc": "<p>Plays any scheduled patterns with a rock-solid stable clock.</p>\n"}, {"fullname": "subsequence.sequencer.Sequencer.__init__", "modulename": "subsequence.sequencer", "qualname": "Sequencer.__init__", "kind": "function", "doc": "<p>Initialize the sequencer with a MIDI device and initial BPM.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"n\">midi_device_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span>, </span><span class=\"param\"><span class=\"n\">initial_bpm</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">125</span></span>)</span>"}, {"fullname": "subsequence.sequencer.Sequencer.midi_device_name", "modulename": "subsequence.sequencer", "qualname": "Sequencer.midi_device_name", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.sequencer.Sequencer.pulses_per_beat", "modulename": "subsequence.sequencer", "qualname": "Sequencer.pulses_per_beat", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.sequencer.Sequencer.current_bpm", "modulename": "subsequence.sequencer", "qualname": "Sequencer.current_bpm", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.sequencer.Sequencer.seconds_per_beat", "modulename": "subsequence.sequencer", "qualname": "Sequencer.seconds_per_beat", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.sequencer.Sequencer.seconds_per_pulse", "modulename": "subsequence.sequencer", "qualname": "Sequencer.seconds_per_pulse", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.sequencer.Sequencer.midi_out", "modulename": "subsequence.sequencer", "qualname": "Sequencer.midi_out", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.sequencer.Sequencer.event_queue", "modulename": "subsequence.sequencer", "qualname": "Sequencer.event_queue", "kind": "variable", "doc": "<p></p>\n", "annotation": ": List[subsequence.sequencer.MidiEvent]"}, {"fullname": "subsequence.sequencer.Sequencer.running", "modulename": "subsequence.sequencer", "qualname": "Sequencer.running", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.sequencer.Sequencer.task", "modulename": "subsequence.sequencer", "qualname": "Sequencer.task", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.sequencer.Sequencer.start_time", "modulename": "subsequence.sequencer", "qualname": "Sequencer.start_time", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.sequencer.Sequencer.pulse_count", "modulename": "subsequence.sequencer", "qualname": "Sequencer.pulse_count", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.sequencer.Sequencer.current_bar", "modulename": "subsequence.sequencer", "qualname": "Sequencer.current_bar", "kind": "variable", "doc": "<p></p>\n", "annotation": ": int"}, {"fullname": "subsequence.sequencer.Sequencer.active_notes", "modulename": "subsequence.sequencer", "qualname": "Sequencer.active_notes", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Set[Tuple[int, int]]"}, {"fullname": "subsequence.sequencer.Sequencer.queue_lock", "modulename": "subsequence.sequencer", "qualname": "Sequencer.queue_lock", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.sequencer.Sequencer.pattern_lock", "modulename": "subsequence.sequencer", "qualname": "Sequencer.pattern_lock", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.sequencer.Sequencer.reschedule_queue", "modulename": "subsequence.sequencer", "qualname": "Sequencer.reschedule_queue", "kind": "variable", "doc": "<p></p>\n", "annotation": ": List[Tuple[int, int, subsequence.sequencer.ScheduledPattern]]"}, {"fullname": "subsequence.sequencer.Sequencer.events", "modulename": "subsequence.sequencer", "qualname": "Sequencer.events", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.sequencer.Sequencer.callback_lock", "modulename": "subsequence.sequencer", "qualname": "Sequencer.callback_lock", "kind": "variable", "doc": "<p></p>\n"}, {"fullname": "subsequence.sequencer.Sequencer.callback_queue", "modulename": "subsequence.sequencer", "qualname": "Sequencer.callback_queue", "kind": "variable", "doc": "<p></p>\n", "annotation": ": List[Tuple[int, int, subsequence.sequencer.ScheduledCallback]]"}, {"fullname": "subsequence.sequencer.Sequencer.data", "modulename": "subsequence.sequencer", "qualname": "Sequencer.data", "kind": "variable", "doc": "<p></p>\n", "annotation": ": Dict[str, Any]"}, {"fullname": "subsequence.sequencer.Sequencer.callbacks", "modulename": "subsequence.sequencer", "qualname": "Sequencer.callbacks", "kind": "variable", "doc": "<p></p>\n", "annotation": ": List[Callable[[int], Coroutine]]"}, {"fullname": "subsequence.sequencer.Sequencer.set_bpm", "modulename": "subsequence.sequencer", "qualname": "Sequencer.set_bpm", "kind": "function", "doc": "<p>Set the tempo and recalculate timing constants.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">bpm</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.sequencer.Sequencer.add_callback", "modulename": "subsequence.sequencer", "qualname": "Sequencer.add_callback", "kind": "function", "doc": "<p>Add an async callback to be invoked at the start of each bar.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">callback</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"n\">Coroutine</span><span class=\"p\">]</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.sequencer.Sequencer.on_event", "modulename": "subsequence.sequencer", "qualname": "Sequencer.on_event", "kind": "function", "doc": "<p>Register a callback for a named event.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">event_name</span><span class=\"p\">:</span> <span class=\"nb\">str</span>, </span><span class=\"param\"><span class=\"n\">callback</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[</span><span class=\"o\">...</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.sequencer.Sequencer.schedule_pattern", "modulename": "subsequence.sequencer", "qualname": "Sequencer.schedule_pattern", "kind": "function", "doc": "<p>Schedules a pattern's notes into the sequencer's event queue.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">pattern</span><span class=\"p\">:</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">sequencer</span><span class=\"o\">.</span><span class=\"n\">PatternLike</span>,</span><span class=\"param\">\t<span class=\"n\">start_pulse</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "async def"}, {"fullname": "subsequence.sequencer.Sequencer.schedule_pattern_repeating", "modulename": "subsequence.sequencer", "qualname": "Sequencer.schedule_pattern_repeating", "kind": "function", "doc": "<p>Schedule a pattern and register it for rescheduling each cycle.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">pattern</span><span class=\"p\">:</span> <span class=\"n\">subsequence</span><span class=\"o\">.</span><span class=\"n\">sequencer</span><span class=\"o\">.</span><span class=\"n\">PatternLike</span>,</span><span class=\"param\">\t<span class=\"n\">start_pulse</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "async def"}, {"fullname": "subsequence.sequencer.Sequencer.schedule_callback_repeating", "modulename": "subsequence.sequencer", "qualname": "Sequencer.schedule_callback_repeating", "kind": "function", "doc": "<p>Schedule a repeating callback on a beat interval.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">callback</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"n\">Any</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">interval_beats</span><span class=\"p\">:</span> <span class=\"nb\">float</span>,</span><span class=\"param\">\t<span class=\"n\">start_pulse</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>,</span><span class=\"param\">\t<span class=\"n\">reschedule_lookahead</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mi\">1</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "async def"}, {"fullname": "subsequence.sequencer.Sequencer.play", "modulename": "subsequence.sequencer", "qualname": "Sequencer.play", "kind": "function", "doc": "<p>Convenience method to start playback and wait for completion.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "async def"}, {"fullname": "subsequence.sequencer.Sequencer.start", "modulename": "subsequence.sequencer", "qualname": "Sequencer.start", "kind": "function", "doc": "<p>Start the sequencer playback in a separate asyncio task.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "async def"}, {"fullname": "subsequence.sequencer.Sequencer.stop", "modulename": "subsequence.sequencer", "qualname": "Sequencer.stop", "kind": "function", "doc": "<p>Stop the sequencer playback and cleanup resources.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "async def"}, {"fullname": "subsequence.sequencer.Sequencer.panic", "modulename": "subsequence.sequencer", "qualname": "Sequencer.panic", "kind": "function", "doc": "<p>Send a MIDI panic message to all channels.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "async def"}, {"fullname": "subsequence.swing", "modulename": "subsequence.swing", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "subsequence.swing.apply_swing", "modulename": "subsequence.swing", "qualname": "apply_swing", "kind": "function", "doc": "<p>Apply swing timing to a step dictionary keyed by pulse positions.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"n\">steps</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>,</span><span class=\"param\">\t<span class=\"n\">swing_ratio</span><span class=\"p\">:</span> <span class=\"nb\">float</span> <span class=\"o\">=</span> <span class=\"mf\">2.0</span>,</span><span class=\"param\">\t<span class=\"n\">pulses_per_quarter</span><span class=\"p\">:</span> <span class=\"nb\">int</span> <span class=\"o\">=</span> <span class=\"mi\">24</span></span><span class=\"return-annotation\">) -> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.weighted_graph", "modulename": "subsequence.weighted_graph", "kind": "module", "doc": "<p></p>\n"}, {"fullname": "subsequence.weighted_graph.WeightModifierType", "modulename": "subsequence.weighted_graph", "qualname": "WeightModifierType", "kind": "variable", "doc": "<p></p>\n", "default_value": "typing.Optional[typing.Callable[[~NodeType, ~NodeType, int], float]]"}, {"fullname": "subsequence.weighted_graph.WeightedGraph", "modulename": "subsequence.weighted_graph", "qualname": "WeightedGraph", "kind": "class", "doc": "<p>A weighted directed graph with optional runtime weight adjustment.</p>\n", "bases": "typing.Generic[~NodeType]"}, {"fullname": "subsequence.weighted_graph.WeightedGraph.__init__", "modulename": "subsequence.weighted_graph", "qualname": "WeightedGraph.__init__", "kind": "function", "doc": "<p>Initialize an empty weighted graph.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">()</span>"}, {"fullname": "subsequence.weighted_graph.WeightedGraph.add_transition", "modulename": "subsequence.weighted_graph", "qualname": "WeightedGraph.add_transition", "kind": "function", "doc": "<p>Add a weighted transition between two nodes.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">source</span><span class=\"p\">:</span> <span class=\"o\">~</span><span class=\"n\">NodeType</span>, </span><span class=\"param\"><span class=\"n\">target</span><span class=\"p\">:</span> <span class=\"o\">~</span><span class=\"n\">NodeType</span>, </span><span class=\"param\"><span class=\"n\">weight</span><span class=\"p\">:</span> <span class=\"nb\">int</span></span><span class=\"return-annotation\">) -> <span class=\"kc\">None</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.weighted_graph.WeightedGraph.get_transitions", "modulename": "subsequence.weighted_graph", "qualname": "WeightedGraph.get_transitions", "kind": "function", "doc": "<p>Return weighted transitions for a source node.</p>\n", "signature": "<span class=\"signature pdoc-code condensed\">(<span class=\"param\"><span class=\"bp\">self</span>, </span><span class=\"param\"><span class=\"n\">source</span><span class=\"p\">:</span> <span class=\"o\">~</span><span class=\"n\">NodeType</span></span><span class=\"return-annotation\">) -> <span class=\"n\">List</span><span class=\"p\">[</span><span class=\"n\">Tuple</span><span class=\"p\">[</span><span class=\"o\">~</span><span class=\"n\">NodeType</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">]]</span>:</span></span>", "funcdef": "def"}, {"fullname": "subsequence.weighted_graph.WeightedGraph.choose_next", "modulename": "subsequence.weighted_graph", "qualname": "WeightedGraph.choose_next", "kind": "function", "doc": "<p>Choose the next node from a source using weighted randomness.</p>\n", "signature": "<span class=\"signature pdoc-code multiline\">(<span class=\"param\">\t<span class=\"bp\">self</span>,</span><span class=\"param\">\t<span class=\"n\">source</span><span class=\"p\">:</span> <span class=\"o\">~</span><span class=\"n\">NodeType</span>,</span><span class=\"param\">\t<span class=\"n\">rng</span><span class=\"p\">:</span> <span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">Random</span>,</span><span class=\"param\">\t<span class=\"n\">weight_modifier</span><span class=\"p\">:</span> <span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"o\">~</span><span class=\"n\">NodeType</span><span class=\"p\">,</span> <span class=\"o\">~</span><span class=\"n\">NodeType</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"nb\">float</span><span class=\"p\">]]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span></span><span class=\"return-annotation\">) -> <span class=\"o\">~</span><span class=\"n\">NodeType</span>:</span></span>", "funcdef": "def"}];

    // mirrored in build-search-index.js (part 1)
    // Also split on html tags. this is a cheap heuristic, but good enough.
    elasticlunr.tokenizer.setSeperator(/[\s\-.;&_'"=,()]+|<[^>]*>/);

    let searchIndex;
    if (docs._isPrebuiltIndex) {
        console.info("using precompiled search index");
        searchIndex = elasticlunr.Index.load(docs);
    } else {
        console.time("building search index");
        // mirrored in build-search-index.js (part 2)
        searchIndex = elasticlunr(function () {
            this.pipeline.remove(elasticlunr.stemmer);
            this.pipeline.remove(elasticlunr.stopWordFilter);
            this.addField("qualname");
            this.addField("fullname");
            this.addField("annotation");
            this.addField("default_value");
            this.addField("signature");
            this.addField("bases");
            this.addField("doc");
            this.setRef("fullname");
        });
        for (let doc of docs) {
            searchIndex.addDoc(doc);
        }
        console.timeEnd("building search index");
    }

    return (term) => searchIndex.search(term, {
        fields: {
            qualname: {boost: 4},
            fullname: {boost: 2},
            annotation: {boost: 2},
            default_value: {boost: 2},
            signature: {boost: 2},
            bases: {boost: 2},
            doc: {boost: 1},
        },
        expand: true
    });
})();